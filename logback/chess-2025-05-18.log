2025-05-18 01:13:40.664 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 18760 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 01:13:40.668 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 01:13:41.711 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 01:13:41.798 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 2 JPA repository interfaces.
2025-05-18 01:13:42.462 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 01:13:42.472 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 01:13:42.474 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 01:13:42.524 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 01:13:42.524 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1805 ms
2025-05-18 01:13:42.734 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 01:13:42.786 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 01:13:42.813 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 01:13:43.093 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 01:13:43.115 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 01:13:43.307 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d9af731
2025-05-18 01:13:43.308 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 01:13:43.385 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 01:13:44.205 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 01:13:44.339 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 01:13:44.363 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@769a9b7a
2025-05-18 01:13:44.475 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 01:13:44.965 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 01:13:45.616 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 01:13:45.890 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.110 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 01:13:46.379 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 01:13:46.379 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]]
2025-05-18 01:13:46.379 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:13:46.379 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:13:46.413 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 01:13:46.423 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 6.348 seconds (process running for 7.13)
2025-05-18 01:13:46.433 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:13:46.433 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:13:46.433 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:13:46.433 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:13:46.433 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:13:46.434 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:13:47.556 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 01:13:47.556 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 01:13:47.556 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 01:13:47.889 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 01:13:47.889 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 01:13:48.340 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 01:13:48.342 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 01:13:48.416 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2b05371a
2025-05-18 01:13:48.417 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747520028402
2025-05-18 01:13:48.449 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2b05371a
2025-05-18 01:13:48.450 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/572/sund15bw/websocket
2025-05-18 01:13:48.541 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=sund15bw]
2025-05-18 01:13:48.575 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 01:13:48.577 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 01:13:48.579 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии sund15bw: 2
2025-05-18 01:13:48.580 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=sund15bw
2025-05-18 01:13:48.589 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 01:13:48.605 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:13:48.605 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:13:48.605 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 01:13:48.608 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=sund15bw
2025-05-18 01:13:48.609 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:13:48.609 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:13:48.612 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 01:13:48.612 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=sund15bw
2025-05-18 01:13:48.612 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:13:48.612 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:03.164 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 01:14:03.164 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 01:14:03.338 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 01:14:03.338 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 01:14:03.372 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2b05371a
2025-05-18 01:14:03.372 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747520043362
2025-05-18 01:14:03.464 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@2b05371a
2025-05-18 01:14:03.465 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/344/tqofdlfz/websocket
2025-05-18 01:14:03.467 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tqofdlfz]
2025-05-18 01:14:03.472 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 01:14:03.472 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 01:14:03.472 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии tqofdlfz: 27
2025-05-18 01:14:03.473 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=27 session=tqofdlfz
2025-05-18 01:14:03.474 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[27]}
2025-05-18 01:14:03.482 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:14:03.482 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:03.490 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 01:14:03.490 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=tqofdlfz
2025-05-18 01:14:03.493 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:14:03.493 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:03.493 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 01:14:03.493 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=tqofdlfz
2025-05-18 01:14:03.493 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:14:03.493 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:03.499 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 01:14:03.502 [clientInboundChannel-15] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=tqofdlfz
2025-05-18 01:14:03.502 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:14:03.502 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:14:06.420 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:14:07.553 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/matchmaking], content-length=[14]} session=null
2025-05-18 01:14:07.553 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:07.553 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/matchmaking session=sund15bw, lookupDestination='/matchmaking'
2025-05-18 01:14:07.553 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 01:14:10.195 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/matchmaking], content-length=[15]} session=null
2025-05-18 01:14:10.195 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:14:10.195 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/matchmaking session=tqofdlfz, lookupDestination='/matchmaking'
2025-05-18 01:14:10.195 [clientInboundChannel-22] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:14:26.433 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:14:46.386 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 48], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 18]
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:14:46.427 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:15:06.436 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:15:26.423 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:15:26.423 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:15:26.424 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:15:26.425 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:15:26.425 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:15:26.425 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:15:46.433 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:16:06.422 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:16:06.423 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:16:06.423 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:16:06.423 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:16:06.423 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:16:06.423 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:16:24.447 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 01:16:24.455 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 01:16:24.458 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 01:16:24.460 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session sund15bw with CloseStatus[code=1001, reason=null]
2025-05-18 01:16:24.461 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=sund15bw]
2025-05-18 01:16:24.464 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 01:16:24.465 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=sund15bw] closed with CloseStatus[code=1001, reason=null]
2025-05-18 01:16:24.465 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session sund15bw
2025-05-18 01:16:24.466 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=sund15bw
2025-05-18 01:16:24.466 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session tqofdlfz with CloseStatus[code=1001, reason=null]
2025-05-18 01:16:24.466 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=tqofdlfz]
2025-05-18 01:16:24.466 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tqofdlfz] closed with CloseStatus[code=1001, reason=null]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tqofdlfz
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:16:24.467 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:16:24.470 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 01:16:24.473 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 01:16:24.481 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 01:23:39.163 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 5888 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 01:23:39.164 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 01:23:39.751 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 01:23:39.818 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 2 JPA repository interfaces.
2025-05-18 01:23:40.336 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 01:23:40.346 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 01:23:40.346 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 01:23:40.393 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 01:23:40.393 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1179 ms
2025-05-18 01:23:40.521 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 01:23:40.555 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 01:23:40.585 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 01:23:40.787 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 01:23:40.805 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 01:23:40.958 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@48ee3c2d
2025-05-18 01:23:40.959 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 01:23:41.008 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 01:23:41.689 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 01:23:41.764 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 01:23:41.777 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@39921410
2025-05-18 01:23:41.840 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 01:23:42.148 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 01:23:42.776 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 01:23:43.081 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 01:23:43.370 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.370 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.371 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.371 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.371 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.372 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.372 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.372 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.372 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 01:23:43.650 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 01:23:43.651 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 01:23:43.651 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 01:23:43.651 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]
2025-05-18 01:23:43.651 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]
2025-05-18 01:23:43.651 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]]
2025-05-18 01:23:43.652 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 01:23:43.652 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:23:43.652 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 01:23:43.665 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 01:23:43.671 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 4.893 seconds (process running for 5.297)
2025-05-18 01:23:43.679 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:23:43.679 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:23:43.679 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:23:43.680 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:23:43.680 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:23:43.680 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:23:48.866 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 01:23:48.866 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 01:23:48.866 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 01:23:49.164 [http-nio-8080-exec-4] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 01:23:49.173 [http-nio-8080-exec-4] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 01:23:49.616 [http-nio-8080-exec-4] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 01:23:49.627 [http-nio-8080-exec-4] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 01:23:49.702 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@510d8c03
2025-05-18 01:23:49.706 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747520629689
2025-05-18 01:23:49.719 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@510d8c03
2025-05-18 01:23:49.719 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/431/bael3chf/websocket
2025-05-18 01:23:49.778 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=bael3chf]
2025-05-18 01:23:49.801 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 01:23:49.811 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 01:23:49.812 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии bael3chf: 2
2025-05-18 01:23:49.813 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=bael3chf
2025-05-18 01:23:49.818 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 01:23:49.827 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:23:49.827 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:23:49.828 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=bael3chf
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 01:23:49.828 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=bael3chf
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 01:23:49.828 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:53.200 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 01:23:53.200 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 01:23:53.394 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 01:23:53.394 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 01:23:53.418 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@510d8c03
2025-05-18 01:23:53.429 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747520633412
2025-05-18 01:23:53.462 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@510d8c03
2025-05-18 01:23:53.462 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/353/5ppsl5f1/websocket
2025-05-18 01:23:53.466 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=5ppsl5f1]
2025-05-18 01:23:53.474 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 01:23:53.474 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 01:23:53.474 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии 5ppsl5f1: 27
2025-05-18 01:23:53.475 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=27 session=5ppsl5f1
2025-05-18 01:23:53.477 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[27]}
2025-05-18 01:23:53.482 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:23:53.482 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:53.487 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 01:23:53.487 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=5ppsl5f1
2025-05-18 01:23:53.487 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:23:53.487 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:53.490 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 01:23:53.490 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:23:53.490 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:23:53.490 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=5ppsl5f1
2025-05-18 01:23:53.492 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 01:23:53.493 [clientInboundChannel-15] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=5ppsl5f1
2025-05-18 01:23:53.493 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 01:23:53.493 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:24:03.685 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:24:11.666 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 01:24:11.666 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:24:11.666 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/matchmaking], content-length=[14]} session=null
2025-05-18 01:24:11.666 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:24:11.666 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=bael3chf
2025-05-18 01:24:11.674 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/matchmaking session=bael3chf, lookupDestination='/matchmaking'
2025-05-18 01:24:11.676 [clientInboundChannel-19] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 01:24:14.757 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 01:24:14.757 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:24:14.757 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/matchmaking], content-length=[15]} session=null
2025-05-18 01:24:14.757 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 01:24:14.757 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=5ppsl5f1
2025-05-18 01:24:14.757 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/matchmaking session=5ppsl5f1, lookupDestination='/matchmaking'
2025-05-18 01:24:14.757 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 01:24:23.672 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:24:23.672 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:24:23.672 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:24:23.672 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:24:23.672 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:24:23.674 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:24:43.654 [MessageBroker-6] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 18]
2025-05-18 01:24:43.683 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:24:43.684 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:24:43.684 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:24:43.684 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:24:43.684 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:24:43.684 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:25:03.683 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:25:03.683 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:25:03.683 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:25:03.684 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:25:03.684 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:25:03.684 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:25:23.679 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:25:43.677 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:26:03.678 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:26:23.672 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:26:23.672 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:26:23.672 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:26:23.672 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:26:23.673 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:26:23.673 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:26:43.689 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 01:27:03.679 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 01:27:14.706 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=bael3chf]
2025-05-18 01:27:14.707 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=5ppsl5f1]
2025-05-18 01:27:14.709 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=5ppsl5f1] closed with CloseStatus[code=1006, reason=null]
2025-05-18 01:27:14.709 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=bael3chf] closed with CloseStatus[code=1006, reason=null]
2025-05-18 01:27:14.710 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 5ppsl5f1
2025-05-18 01:27:14.710 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session bael3chf
2025-05-18 01:27:14.710 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=5ppsl5f1
2025-05-18 01:27:14.715 [clientOutboundChannel-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=5ppsl5f1}], simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=5ppsl5f1}]
2025-05-18 01:27:14.727 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=bael3chf
2025-05-18 01:27:14.730 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=bael3chf}], simpUser=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=bael3chf}]
2025-05-18 02:07:50.431 [MessageBroker-9] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 2 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 60], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 12, active threads = 3, queued tasks = 0, completed tasks = 70]
2025-05-18 02:07:50.431 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [bael3chf, 5ppsl5f1]
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.431 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.439 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.447 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.455 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.463 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.471 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.474 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.479 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.488 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.488 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.488 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.488 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.488 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.498 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.498 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.506 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.514 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.522 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.530 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.538 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.538 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.538 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.538 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.538 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.541 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.642 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.645 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.645 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.646 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.646 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.646 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.648 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.648 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.650 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.676 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.676 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.676 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.676 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.682 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.690 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.698 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.715 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.723 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.731 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.739 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.804 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.812 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.816 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.817 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.820 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.829 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.832 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:07:50.837 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:08:03.755 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:08:11.828 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=41m736ms687µs700ns).
2025-05-18 02:08:23.771 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:08:23.771 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:08:23.771 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:08:23.772 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:08:23.772 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:08:23.772 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:08:43.722 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:08:43.727 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:08:43.727 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:08:43.727 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:08:43.727 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:08:43.727 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:09:03.683 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:09:10.813 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:09:10.820 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:09:10.822 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1dbecb0a]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:09:10.823 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:09:10.825 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:09:10.827 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:09:10.869 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:09:13.849 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 25364 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:09:13.851 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:09:14.664 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:09:14.722 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2025-05-18 02:09:15.289 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:09:15.311 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:09:15.311 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:09:15.365 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:09:15.365 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1441 ms
2025-05-18 02:09:15.527 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:09:15.563 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:09:15.587 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:09:15.886 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:09:15.915 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:09:16.120 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d9428f3
2025-05-18 02:09:16.121 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:09:16.186 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:09:17.123 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:09:17.228 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:09:17.242 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@3f030217
2025-05-18 02:09:17.351 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:09:17.761 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:09:18.429 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:09:18.728 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:09:19.014 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.015 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.015 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.015 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.015 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.015 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.016 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.016 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.016 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:09:19.404 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:09:19.405 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:09:19.405 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:09:19.405 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]
2025-05-18 02:09:19.405 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]
2025-05-18 02:09:19.405 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]]
2025-05-18 02:09:19.406 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:09:19.406 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:09:19.406 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:09:19.422 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:09:19.429 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 6.042 seconds (process running for 6.604)
2025-05-18 02:09:19.440 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:09:19.440 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:09:19.440 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:09:19.441 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:09:19.441 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:09:19.441 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:09:25.166 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:09:25.166 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:09:25.166 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:09:25.292 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:09:25.292 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:09:25.455 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:09:25.455 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:09:25.516 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:09:25.522 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523365504
2025-05-18 02:09:25.557 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:09:25.557 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/699/qfgrrgdo/websocket
2025-05-18 02:09:25.607 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qfgrrgdo]
2025-05-18 02:09:25.641 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:09:25.642 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:09:25.642 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии qfgrrgdo: 2
2025-05-18 02:09:25.650 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=qfgrrgdo
2025-05-18 02:09:25.656 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 02:09:25.672 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:09:25.672 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:25.672 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:09:25.680 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=qfgrrgdo
2025-05-18 02:09:25.680 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:09:25.680 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:25.683 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:09:25.683 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:09:25.683 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:25.686 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=qfgrrgdo
2025-05-18 02:09:39.438 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:09:39.438 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:09:39.439 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:09:39.439 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:09:39.439 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:09:39.439 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:09:43.947 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:09:43.947 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:09:44.056 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:09:44.056 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:09:44.102 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:09:44.102 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523384095
2025-05-18 02:09:44.148 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:09:44.148 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/620/d45ljht0/websocket
2025-05-18 02:09:44.150 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=d45ljht0]
2025-05-18 02:09:44.153 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:09:44.153 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 02:09:44.153 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии d45ljht0: 27
2025-05-18 02:09:44.161 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=27 session=d45ljht0
2025-05-18 02:09:44.166 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[27]}
2025-05-18 02:09:44.185 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:09:44.185 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:44.194 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:09:44.194 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=d45ljht0
2025-05-18 02:09:44.203 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:09:44.203 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:44.203 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:09:44.203 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=d45ljht0
2025-05-18 02:09:44.206 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:09:44.206 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:44.206 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:09:44.206 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=d45ljht0
2025-05-18 02:09:44.213 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:09:44.213 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:48.730 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:09:48.730 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:48.730 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[1]} session=null
2025-05-18 02:09:48.730 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/2/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:09:48.730 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=qfgrrgdo
2025-05-18 02:09:48.731 [clientInboundChannel-21] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=qfgrrgdo, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:09:48.735 [clientInboundChannel-21] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:09:48.735 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:09:48.735 [clientInboundChannel-21] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:09:48.735 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:09:48.735 [clientInboundChannel-21] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:09:48.735 [clientInboundChannel-21] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:09:48.740 [clientInboundChannel-21] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:09:48.740 [clientInboundChannel-21] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:09:48.740 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:09:48.740 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:09:48.740 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[qfgrrgdo-0]}
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2]
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2]
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:09:59.440 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:10:03.397 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:10:03.398 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:10:03.399 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[2]} session=null
2025-05-18 02:10:03.399 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/27/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:10:03.400 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=d45ljht0
2025-05-18 02:10:03.400 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=d45ljht0, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:10:03.400 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:10:03.400 [clientInboundChannel-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:10:03.400 [clientInboundChannel-1] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:10:03.400 [clientInboundChannel-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:10:03.401 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:10:03.401 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:10:03.402 [clientInboundChannel-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:10:03.402 [clientInboundChannel-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:10:03.402 [clientInboundChannel-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:10:03.402 [clientInboundChannel-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:10:03.408 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[qfgrrgdo-1]}
2025-05-18 02:10:03.408 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[d45ljht0-2]}
2025-05-18 02:10:19.410 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 54], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 14]
2025-05-18 02:10:19.439 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:10:19.440 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:10:19.440 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:10:19.440 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[27]
2025-05-18 02:10:19.440 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:10:19.440 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[27]
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:10:39.434 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:10:59.446 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:10:59.447 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:10:59.447 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:10:59.447 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:10:59.447 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:10:59.447 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:11:03.606 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-5]} session=null
2025-05-18 02:11:03.607 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:11:03.625 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-5 session=d45ljht0
2025-05-18 02:11:03.626 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=d45ljht0
2025-05-18 02:11:03.627 [clientOutboundChannel-6] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-5]}
2025-05-18 02:11:03.631 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=d45ljht0] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:11:03.631 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session d45ljht0
2025-05-18 02:11:03.632 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=d45ljht0
2025-05-18 02:11:03.633 [clientOutboundChannel-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=d45ljht0}], simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=d45ljht0}]
2025-05-18 02:11:07.419 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-4]} session=null
2025-05-18 02:11:07.419 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-4 session=qfgrrgdo
2025-05-18 02:11:07.427 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-4]}
2025-05-18 02:11:07.429 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:11:07.430 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qfgrrgdo] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:11:07.430 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qfgrrgdo
2025-05-18 02:11:07.431 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=qfgrrgdo
2025-05-18 02:11:07.431 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=qfgrrgdo
2025-05-18 02:11:07.432 [clientOutboundChannel-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=qfgrrgdo}], simpUser=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=qfgrrgdo}]
2025-05-18 02:11:10.566 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [d45ljht0]
2025-05-18 02:11:14.883 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:11:14.883 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:11:15.083 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:11:15.083 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:11:15.174 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:11:15.175 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523475140
2025-05-18 02:11:15.216 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:11:15.218 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/207/xaylr5f2/websocket
2025-05-18 02:11:15.222 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xaylr5f2]
2025-05-18 02:11:15.232 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:11:15.233 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:11:15.233 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии xaylr5f2: 2
2025-05-18 02:11:15.241 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=xaylr5f2
2025-05-18 02:11:15.242 [clientOutboundChannel-10] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 02:11:15.251 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:11:15.251 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:15.265 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:11:15.268 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=xaylr5f2
2025-05-18 02:11:15.268 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:11:15.268 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:15.276 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:11:15.276 [clientInboundChannel-33] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=xaylr5f2
2025-05-18 02:11:15.276 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:11:15.276 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:15.285 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:11:15.287 [clientInboundChannel-39] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=xaylr5f2
2025-05-18 02:11:15.287 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:11:15.287 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:15.569 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [qfgrrgdo]
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:11:19.443 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:11:21.213 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:11:21.213 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:11:21.416 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:11:21.416 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:11:21.506 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:11:21.506 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523481496
2025-05-18 02:11:21.519 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4670caf6
2025-05-18 02:11:21.519 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/775/jz5u1mcd/websocket
2025-05-18 02:11:21.521 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jz5u1mcd]
2025-05-18 02:11:21.524 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:11:21.524 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 02:11:21.524 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии jz5u1mcd: 27
2025-05-18 02:11:21.532 [clientInboundChannel-43] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=27 session=jz5u1mcd
2025-05-18 02:11:21.535 [clientOutboundChannel-11] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[27]}
2025-05-18 02:11:21.553 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:11:21.553 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:21.561 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:11:21.561 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=jz5u1mcd
2025-05-18 02:11:21.569 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:11:21.569 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:21.571 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:11:21.571 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=jz5u1mcd
2025-05-18 02:11:21.572 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:11:21.572 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:21.578 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:11:21.578 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=jz5u1mcd
2025-05-18 02:11:21.578 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:11:21.578 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:26.495 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:11:26.497 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:26.501 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[2]} session=null
2025-05-18 02:11:26.501 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/27/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:26.501 [clientInboundChannel-43] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=jz5u1mcd
2025-05-18 02:11:26.501 [clientInboundChannel-43] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=jz5u1mcd, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:11:26.501 [clientInboundChannel-43] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:11:26.501 [clientInboundChannel-43] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:11:26.501 [clientInboundChannel-43] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:11:26.501 [clientInboundChannel-43] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:11:26.501 [clientOutboundChannel-12] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[jz5u1mcd-3]}
2025-05-18 02:11:30.444 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:11:30.445 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:30.445 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[1]} session=null
2025-05-18 02:11:30.445 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/2/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:11:30.445 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=xaylr5f2
2025-05-18 02:11:30.445 [clientInboundChannel-27] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=xaylr5f2, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:11:30.445 [clientInboundChannel-27] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:11:30.445 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:11:30.450 [clientInboundChannel-27] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:11:30.450 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:11:30.451 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:11:30.451 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:11:30.451 [clientInboundChannel-27] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:11:30.451 [clientInboundChannel-27] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:11:30.451 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:11:30.451 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:11:30.451 [clientOutboundChannel-13] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[jz5u1mcd-4]}
2025-05-18 02:11:30.451 [clientOutboundChannel-14] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[xaylr5f2-5]}
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:11:39.431 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:11:39.496 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@125a7860, com.example.chess.entity.Player@1e5764f8]]
2025-05-18 02:11:39.496 [MessageBroker-5] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:11:39.512 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@125a7860, com.example.chess.entity.Player@1e5764f8]]
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [52]
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id52
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [52]
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@f64e8f3
2025-05-18 02:11:39.579 [MessageBroker-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking-userxaylr5f2 session=null payload={"gameId":52,"color":"white"}
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@7a8040ab
2025-05-18 02:11:39.579 [MessageBroker-5] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking-userjz5u1mcd session=null payload={"gameId":52,"color":"black"}
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:11:39.579 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:11:59.434 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:12:19.433 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:12:19.433 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:12:19.433 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:12:19.434 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:12:19.434 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:12:19.434 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:12:39.435 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:12:39.437 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:12:39.437 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:12:39.437 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:12:39.437 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:12:39.437 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:12:59.442 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:13:19.444 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:13:39.444 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:13:59.433 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:14:19.430 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:14:39.431 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:14:59.431 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:15:19.435 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:15:37.297 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:15:37.305 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:15:37.307 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:15:37.307 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session xaylr5f2 with CloseStatus[code=1001, reason=null]
2025-05-18 02:15:37.307 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=xaylr5f2]
2025-05-18 02:15:37.309 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:15:37.309 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xaylr5f2] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:15:37.309 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xaylr5f2
2025-05-18 02:15:37.309 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session jz5u1mcd with CloseStatus[code=1001, reason=null]
2025-05-18 02:15:37.310 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=jz5u1mcd]
2025-05-18 02:15:37.310 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:15:37.310 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jz5u1mcd] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:15:37.310 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jz5u1mcd
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]]
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@396ab19d]
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:15:37.311 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:15:37.313 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:15:37.316 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:15:37.318 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:15:43.750 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 25812 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:15:43.752 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:15:44.560 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:15:44.616 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2025-05-18 02:15:45.101 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:15:45.110 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:15:45.110 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:15:45.182 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:15:45.182 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1389 ms
2025-05-18 02:15:45.310 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:15:45.344 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:15:45.384 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:15:45.572 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:15:45.591 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:15:46.125 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@111fe921
2025-05-18 02:15:46.127 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:15:46.177 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:15:46.849 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:15:46.923 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:15:46.936 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@4d7fba20
2025-05-18 02:15:47.023 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:15:47.400 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:15:48.151 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:15:48.421 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:15:48.737 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.737 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.737 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:48.738 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:15:49.128 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:15:49.128 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:15:49.128 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:15:49.128 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]
2025-05-18 02:15:49.128 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]
2025-05-18 02:15:49.130 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]]
2025-05-18 02:15:49.130 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:15:49.130 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:15:49.130 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:15:49.152 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:15:49.159 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.799 seconds (process running for 6.232)
2025-05-18 02:15:49.169 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:15:49.170 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:15:49.170 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:15:49.170 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:15:49.170 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:15:49.170 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:16:00.329 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:16:00.335 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@27688fc6]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:16:00.337 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:16:00.339 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:16:00.342 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:16:00.344 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:16:05.474 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 21608 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:16:05.475 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:16:06.136 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:16:06.208 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
2025-05-18 02:16:06.745 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:16:06.756 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:16:06.756 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:16:06.801 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:16:06.802 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1283 ms
2025-05-18 02:16:07.015 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:16:07.044 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:16:07.068 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:16:07.244 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:16:07.262 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:16:07.474 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@751686aa
2025-05-18 02:16:07.475 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:16:07.532 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:16:08.206 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:16:08.293 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:16:08.309 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@241abc2
2025-05-18 02:16:08.382 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:16:08.697 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:16:09.322 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:16:09.568 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:16:09.781 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.782 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.782 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.782 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.782 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.783 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.783 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.783 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:09.783 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:16:10.039 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:16:10.039 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:16:10.069 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:16:10.069 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]
2025-05-18 02:16:10.070 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]
2025-05-18 02:16:10.071 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]]
2025-05-18 02:16:10.073 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:16:10.074 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:16:10.074 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:16:10.106 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:16:10.119 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.056 seconds (process running for 5.471)
2025-05-18 02:16:10.133 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:16:10.133 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:16:10.133 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:16:10.134 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:16:10.134 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:16:10.135 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:16:30.130 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:16:34.529 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:16:34.529 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:16:34.529 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:16:34.797 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:16:34.800 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:16:35.200 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:16:35.208 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:16:35.307 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:16:35.317 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523795290
2025-05-18 02:16:35.356 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:16:35.358 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/744/t3zmakia/websocket
2025-05-18 02:16:35.424 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=t3zmakia]
2025-05-18 02:16:35.449 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:16:35.453 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 02:16:35.453 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии t3zmakia: 27
2025-05-18 02:16:35.457 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=27 session=t3zmakia
2025-05-18 02:16:35.457 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[27]}
2025-05-18 02:16:35.474 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:16:35.474 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:35.474 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:16:35.481 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=t3zmakia
2025-05-18 02:16:35.482 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:16:35.483 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:35.483 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:16:35.483 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=t3zmakia
2025-05-18 02:16:35.483 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:16:35.483 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:40.651 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:16:40.651 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:16:40.824 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:16:40.824 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:16:40.867 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:16:40.867 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747523800850
2025-05-18 02:16:40.911 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:16:40.911 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/778/pt4nxmzn/websocket
2025-05-18 02:16:40.914 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=pt4nxmzn]
2025-05-18 02:16:40.922 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:16:40.922 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:16:40.922 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии pt4nxmzn: 2
2025-05-18 02:16:40.922 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=pt4nxmzn
2025-05-18 02:16:40.922 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 02:16:40.948 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:16:40.949 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:40.949 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:16:40.949 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=pt4nxmzn
2025-05-18 02:16:40.949 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:16:40.949 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:40.954 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:16:40.954 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=pt4nxmzn
2025-05-18 02:16:40.954 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:16:40.954 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:42.051 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:16:42.054 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:42.054 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=pt4nxmzn
2025-05-18 02:16:42.054 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[1]} session=null
2025-05-18 02:16:42.054 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/2/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:42.056 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=pt4nxmzn, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:16:42.056 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:16:42.066 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:16:42.066 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:16:42.066 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:16:42.066 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[pt4nxmzn-0]}
2025-05-18 02:16:45.310 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:16:45.310 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:45.310 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[2]} session=null
2025-05-18 02:16:45.310 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=t3zmakia
2025-05-18 02:16:45.310 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отправка сообщения на маршрут: /app/27/game/add-in-game-pool, user=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:16:45.313 [clientInboundChannel-20] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=t3zmakia, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:16:45.313 [clientInboundChannel-20] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:16:45.313 [clientInboundChannel-20] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:16:45.313 [clientInboundChannel-20] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:16:45.314 [clientInboundChannel-20] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:16:45.315 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:16:45.315 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:16:45.316 [clientInboundChannel-20] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:16:45.316 [clientInboundChannel-20] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:16:45.316 [clientInboundChannel-20] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:16:45.316 [clientInboundChannel-20] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:16:45.316 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[pt4nxmzn-1]}
2025-05-18 02:16:45.316 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[t3zmakia-2]}
2025-05-18 02:16:50.129 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:16:50.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:16:50.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:16:50.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:16:50.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:16:50.130 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:16:50.165 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@4699db1c, com.example.chess.entity.Player@1b7e1f9c]]
2025-05-18 02:16:50.166 [MessageBroker-2] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:16:50.180 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@4699db1c, com.example.chess.entity.Player@1b7e1f9c]]
2025-05-18 02:16:50.240 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [53]
2025-05-18 02:16:50.240 [MessageBroker-2] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id53
2025-05-18 02:16:50.240 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [53]
2025-05-18 02:16:50.240 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@392dc678
2025-05-18 02:16:50.246 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:16:50.246 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@bddd157
2025-05-18 02:16:50.246 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:16:50.246 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:16:50.246 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:17:10.031 [MessageBroker-8] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 48], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 10]
2025-05-18 02:17:10.124 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:17:10.126 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:17:10.126 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:17:10.126 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:17:10.126 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:17:10.127 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:17:30.124 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:17:30.124 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:17:30.125 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:17:30.125 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:17:30.126 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:17:30.126 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:17:50.122 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:18:10.118 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:18:30.127 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:18:50.119 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:19:10.125 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:19:30.123 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:19:50.127 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:20:10.131 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:20:30.120 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:20:50.130 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:21:10.122 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:21:30.124 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:21:50.134 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:21:51.416 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-4]} session=null
2025-05-18 02:21:51.416 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-4 session=t3zmakia
2025-05-18 02:21:51.416 [clientOutboundChannel-6] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-4]}
2025-05-18 02:21:51.416 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:21:51.429 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=t3zmakia
2025-05-18 02:21:51.424 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=t3zmakia] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:21:51.432 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session t3zmakia
2025-05-18 02:21:51.439 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=t3zmakia
2025-05-18 02:21:51.447 [clientOutboundChannel-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=t3zmakia}], simpUser=UsernamePasswordAuthenticationToken [Principal=27, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]], simpSessionId=t3zmakia}]
2025-05-18 02:21:55.143 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:21:55.143 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:21:55.324 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:21:55.324 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:21:55.366 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:21:55.366 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524115358
2025-05-18 02:21:55.407 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4dce4286
2025-05-18 02:21:55.407 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/719/xzqpay5h/websocket
2025-05-18 02:21:55.407 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xzqpay5h]
2025-05-18 02:21:55.415 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:21:55.416 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:21:55.416 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Установлен пользователь для сессии xzqpay5h: 2
2025-05-18 02:21:55.417 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT user=2 session=xzqpay5h
2025-05-18 02:21:55.419 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0], user-name=[2]}
2025-05-18 02:21:55.438 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:21:55.438 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:21:55.438 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:21:55.438 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:21:55.438 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:21:55.438 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=xzqpay5h
2025-05-18 02:21:55.448 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:21:55.450 [clientInboundChannel-47] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=xzqpay5h
2025-05-18 02:21:55.450 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:21:55.450 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, user=UsernamePasswordAuthenticationToken [Principal=2, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[]]
2025-05-18 02:22:00.375 [MessageBroker-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [t3zmakia]
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:22:10.131 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:22:30.131 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:22:50.119 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:23:10.129 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:23:10.130 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:23:10.130 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:23:10.130 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:23:10.130 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:23:10.130 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:23:30.139 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:23:50.120 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:24:10.119 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:24:30.129 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:24:50.116 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:25:08.485 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:25:08.489 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:25:08.490 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:25:08.491 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session xzqpay5h with CloseStatus[code=1001, reason=null]
2025-05-18 02:25:08.491 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=xzqpay5h]
2025-05-18 02:25:08.493 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:25:08.493 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xzqpay5h] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:25:08.493 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xzqpay5h
2025-05-18 02:25:08.493 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session pt4nxmzn with CloseStatus[code=1001, reason=null]
2025-05-18 02:25:08.498 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=xzqpay5h
2025-05-18 02:25:08.498 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=pt4nxmzn]
2025-05-18 02:25:08.500 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:25:08.500 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=pt4nxmzn] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:25:08.500 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session pt4nxmzn
2025-05-18 02:25:08.500 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:25:08.501 [clientInboundChannel-53] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=pt4nxmzn
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]]
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3729cdaf]
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:25:08.501 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:25:08.503 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:25:08.504 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:25:08.509 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:25:15.671 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 21536 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:25:15.673 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:25:16.489 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:25:16.545 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2025-05-18 02:25:17.117 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:25:17.128 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:25:17.128 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:25:17.177 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:25:17.177 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1468 ms
2025-05-18 02:25:17.324 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:25:17.358 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:25:17.379 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:25:17.561 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:25:17.579 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:25:17.719 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4e96cb04
2025-05-18 02:25:17.720 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:25:17.767 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:25:18.530 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:25:18.649 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:25:18.671 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@504b4a97
2025-05-18 02:25:18.763 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:25:19.294 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:25:19.896 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:25:20.219 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:25:20.513 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.514 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.514 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.514 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.514 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.515 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.515 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.515 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.515 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:25:20.818 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:25:20.818 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:25:20.818 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:25:20.818 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 02:25:20.818 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 02:25:20.819 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]]
2025-05-18 02:25:20.819 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:25:20.819 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:25:20.819 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:25:20.832 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:25:20.833 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.666 seconds (process running for 6.344)
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:25:20.845 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:25:20.971 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:25:20.971 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:25:20.971 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:25:21.101 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:25:21.101 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:25:21.303 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:25:21.303 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:25:21.355 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4d5a21cc
2025-05-18 02:25:21.357 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524321344
2025-05-18 02:25:21.367 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4d5a21cc
2025-05-18 02:25:21.367 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/103/kqd1n4lx/websocket
2025-05-18 02:25:21.392 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kqd1n4lx]
2025-05-18 02:25:21.403 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:25:21.403 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:25:21.403 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=kqd1n4lx
2025-05-18 02:25:21.403 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:25:21.415 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:25:26.645 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:25:26.645 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:25:26.835 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:25:26.835 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:25:26.870 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4d5a21cc
2025-05-18 02:25:26.871 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524326867
2025-05-18 02:25:26.912 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@4d5a21cc
2025-05-18 02:25:26.912 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/789/o1ctvjxj/websocket
2025-05-18 02:25:26.916 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=o1ctvjxj]
2025-05-18 02:25:26.937 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:25:26.937 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 02:25:26.941 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=o1ctvjxj
2025-05-18 02:25:26.941 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:25:26.967 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:25:26.969 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:25:26.971 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:25:26.971 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=o1ctvjxj
2025-05-18 02:25:26.975 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:25:26.977 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:25:26.977 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=o1ctvjxj
2025-05-18 02:25:29.985 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:25:29.985 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=o1ctvjxj
2025-05-18 02:25:29.987 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[2]} session=null
2025-05-18 02:25:29.988 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=o1ctvjxj, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:25:29.989 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:25:30.000 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:25:30.000 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:25:30.000 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:25:30.000 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[o1ctvjxj-0]}
2025-05-18 02:25:33.648 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/queue/matchmaking]} session=null
2025-05-18 02:25:33.649 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-1 session=kqd1n4lx
2025-05-18 02:25:33.649 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[1]} session=null
2025-05-18 02:25:33.650 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=kqd1n4lx, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:25:33.651 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:25:33.651 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:25:33.651 [clientInboundChannel-9] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:25:33.651 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:25:33.653 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:25:33.653 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:25:33.653 [clientInboundChannel-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:25:33.653 [clientInboundChannel-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:25:33.653 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:25:33.653 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:25:33.653 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[o1ctvjxj-1]}
2025-05-18 02:25:33.653 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-1], message-id=[kqd1n4lx-2]}
2025-05-18 02:25:40.844 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:25:40.845 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:25:40.845 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:25:40.845 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:25:40.845 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:25:40.845 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:25:40.862 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@59882304, com.example.chess.entity.Player@41443df5]]
2025-05-18 02:25:40.862 [MessageBroker-6] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:25:40.867 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@59882304, com.example.chess.entity.Player@41443df5]]
2025-05-18 02:25:40.894 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [54]
2025-05-18 02:25:40.894 [MessageBroker-6] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id54
2025-05-18 02:25:40.894 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [54]
2025-05-18 02:25:40.895 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@3e501083
2025-05-18 02:25:40.896 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:25:40.896 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@24ac9aec
2025-05-18 02:25:40.896 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:25:40.896 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:25:40.897 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:26:00.847 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:26:00.848 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:26:00.848 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:26:00.848 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:26:00.848 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:26:00.849 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:26:20.817 [MessageBroker-8] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 36], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 17]
2025-05-18 02:26:20.843 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:26:20.843 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:26:20.843 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:26:20.844 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:26:20.844 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:26:20.844 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:26:40.848 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:26:54.687 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:26:54.692 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:26:54.695 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:26:54.696 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session kqd1n4lx with CloseStatus[code=1001, reason=null]
2025-05-18 02:26:54.697 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=kqd1n4lx]
2025-05-18 02:26:54.698 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:26:54.699 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kqd1n4lx] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:26:54.699 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kqd1n4lx
2025-05-18 02:26:54.700 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session o1ctvjxj with CloseStatus[code=1001, reason=null]
2025-05-18 02:26:54.700 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=kqd1n4lx
2025-05-18 02:26:54.700 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=o1ctvjxj]
2025-05-18 02:26:54.700 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:26:54.701 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=o1ctvjxj] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:26:54.701 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session o1ctvjxj
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:26:54.703 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=o1ctvjxj
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]]
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7033c58a]
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:26:54.703 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:26:54.706 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:26:54.707 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:26:54.712 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:29:04.864 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 15040 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:29:04.865 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:29:05.692 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:29:05.740 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2025-05-18 02:29:06.250 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:29:06.262 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:29:06.262 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:29:06.293 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:29:06.293 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1388 ms
2025-05-18 02:29:06.446 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:29:06.484 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:29:06.509 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:29:06.669 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:29:06.684 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:29:06.850 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@111fe921
2025-05-18 02:29:06.850 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:29:06.904 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:29:07.576 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:29:07.657 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:29:07.681 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@90c01ab
2025-05-18 02:29:07.761 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:29:08.104 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:29:08.822 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:29:09.126 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:29:09.381 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.381 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.381 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.382 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.382 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.382 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.382 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.382 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.383 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:29:09.773 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:29:09.773 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:29:09.775 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:29:09.775 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]
2025-05-18 02:29:09.775 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]
2025-05-18 02:29:09.775 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]]
2025-05-18 02:29:09.776 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:29:09.777 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:29:09.777 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:29:09.803 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:29:09.811 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.361 seconds (process running for 5.819)
2025-05-18 02:29:09.825 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:29:09.825 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:29:09.825 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:29:09.826 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:29:09.826 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:29:09.826 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:29:11.682 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:29:11.682 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:29:11.682 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:29:11.812 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:29:11.813 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:29:12.073 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:29:12.073 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:29:12.153 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@b2b3a40
2025-05-18 02:29:12.158 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524552142
2025-05-18 02:29:12.205 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@b2b3a40
2025-05-18 02:29:12.205 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/649/tjpj14de/websocket
2025-05-18 02:29:12.263 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tjpj14de]
2025-05-18 02:29:12.297 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:29:12.302 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=27
2025-05-18 02:29:12.302 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=tjpj14de
2025-05-18 02:29:12.310 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:29:12.335 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:29:12.335 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:29:12.343 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=tjpj14de
2025-05-18 02:29:12.343 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:29:23.223 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:29:23.223 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:29:23.395 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:29:23.395 [http-nio-8080-exec-10] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:29:23.444 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@b2b3a40
2025-05-18 02:29:23.448 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524563440
2025-05-18 02:29:23.520 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@b2b3a40
2025-05-18 02:29:23.520 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/278/en4dttln/websocket
2025-05-18 02:29:23.520 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=en4dttln]
2025-05-18 02:29:23.532 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:29:23.532 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: userHeader=2
2025-05-18 02:29:23.536 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=en4dttln
2025-05-18 02:29:23.536 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:29:23.562 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:29:23.562 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:29:23.565 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=en4dttln
2025-05-18 02:29:23.565 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:29:29.811 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:29:29.812 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:29:29.812 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:29:29.812 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:29:29.813 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:29:29.813 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:29:49.825 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:29:56.027 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 02:29:56.027 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=en4dttln
2025-05-18 02:29:56.027 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:29:56.029 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=en4dttln, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:29:56.042 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:29:56.047 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:29:56.047 [clientInboundChannel-3] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:29:56.047 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:29:56.047 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:29:56.047 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:29:56.054 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:29:56.054 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:29:56.054 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:29:56.054 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:29:56.057 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[en4dttln-0]}
2025-05-18 02:29:58.799 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 02:29:58.800 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:29:58.800 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=tjpj14de
2025-05-18 02:29:58.802 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=tjpj14de, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:29:58.802 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:29:58.805 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:29:58.805 [clientInboundChannel-9] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:29:58.805 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:29:58.805 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:29:58.805 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:29:58.805 [clientInboundChannel-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:29:58.807 [clientInboundChannel-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:29:58.807 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:29:58.807 [clientInboundChannel-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:29:58.814 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[en4dttln-1]}
2025-05-18 02:29:58.814 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[tjpj14de-2]}
2025-05-18 02:30:09.785 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 36], outboundChannel[pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 5], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 17]
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:30:09.822 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:30:09.855 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@1788a7e7, com.example.chess.entity.Player@6c6beba6]]
2025-05-18 02:30:09.855 [MessageBroker-8] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:30:09.870 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@1788a7e7, com.example.chess.entity.Player@6c6beba6]]
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [55]
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id55
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [55]
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@a5e976f
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@6698078
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:30:09.920 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:30:29.820 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:30:49.816 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:31:09.820 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:31:29.812 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:31:49.820 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:31:49.821 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:31:49.821 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:31:49.821 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:31:49.821 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:31:49.821 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:32:09.817 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:32:09.817 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:32:09.817 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:32:09.817 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:32:09.817 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:32:09.818 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:32:29.816 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:32:32.082 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:32:32.083 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:32:32.083 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=tjpj14de
2025-05-18 02:32:32.083 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=en4dttln
2025-05-18 02:32:32.086 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:32:32.089 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:32:49.829 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:33:09.813 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:33:09.814 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:33:09.814 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:33:09.814 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:33:09.814 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:33:09.814 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:33:29.838 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:33:29.839 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:33:29.839 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:33:29.839 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:33:29.839 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:33:29.839 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:33:49.811 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:33:49.812 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:33:49.812 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:33:49.812 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:33:49.812 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:33:49.813 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:33:59.381 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:33:59.387 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:33:59.389 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:33:59.390 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session tjpj14de with CloseStatus[code=1001, reason=null]
2025-05-18 02:33:59.391 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=tjpj14de]
2025-05-18 02:33:59.394 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:33:59.394 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tjpj14de] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:33:59.394 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tjpj14de
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session en4dttln with CloseStatus[code=1001, reason=null]
2025-05-18 02:33:59.395 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=tjpj14de
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=en4dttln]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=en4dttln] closed with CloseStatus[code=1001, reason=null]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session en4dttln
2025-05-18 02:33:59.395 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=en4dttln
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@226715da]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:33:59.395 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:33:59.397 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:33:59.399 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:33:59.403 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:34:06.820 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 17716 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:34:06.821 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:34:07.569 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:34:07.608 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2025-05-18 02:34:08.163 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:34:08.177 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:34:08.177 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:34:08.223 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:34:08.223 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1353 ms
2025-05-18 02:34:08.446 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:34:08.478 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:34:08.502 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:34:08.673 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:34:08.690 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:34:08.821 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@fd5689d
2025-05-18 02:34:08.822 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:34:08.871 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:34:09.572 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:34:09.651 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:34:09.651 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@5f01361e
2025-05-18 02:34:09.714 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:34:10.011 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:34:10.669 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:34:10.996 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.262 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:34:11.524 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]
2025-05-18 02:34:11.524 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]]
2025-05-18 02:34:11.524 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:34:11.524 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:34:11.540 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:34:11.540 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.231 seconds (process running for 5.772)
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:34:11.555 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:34:21.860 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:34:21.860 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:34:21.864 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-05-18 02:34:22.115 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:34:22.115 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:34:22.557 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:34:22.574 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:34:22.653 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:34:22.657 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524862635
2025-05-18 02:34:22.711 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:34:22.711 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/740/jloxgivs/websocket
2025-05-18 02:34:22.767 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jloxgivs]
2025-05-18 02:34:22.789 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:34:22.797 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии jloxgivs
2025-05-18 02:34:22.799 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=jloxgivs
2025-05-18 02:34:22.800 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:34:22.815 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:34:22.815 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: jloxgivs
2025-05-18 02:34:22.815 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:34:22.818 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:34:22.818 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=jloxgivs
2025-05-18 02:34:22.818 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: jloxgivs
2025-05-18 02:34:28.100 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:34:28.100 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:34:28.263 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:34:28.263 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:34:28.317 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:34:28.318 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747524868313
2025-05-18 02:34:28.340 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:34:28.340 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/434/tnvlq0v3/websocket
2025-05-18 02:34:28.346 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tnvlq0v3]
2025-05-18 02:34:28.355 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:34:28.355 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии tnvlq0v3
2025-05-18 02:34:28.355 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=tnvlq0v3
2025-05-18 02:34:28.358 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:34:28.371 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:34:28.371 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: tnvlq0v3
2025-05-18 02:34:28.371 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:34:28.379 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=tnvlq0v3
2025-05-18 02:34:28.386 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:34:28.386 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: tnvlq0v3
2025-05-18 02:34:28.387 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:34:28.388 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=tnvlq0v3
2025-05-18 02:34:28.388 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:34:28.388 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: tnvlq0v3
2025-05-18 02:34:29.916 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:34:29.916 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: tnvlq0v3
2025-05-18 02:34:29.916 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=tnvlq0v3
2025-05-18 02:34:29.916 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:34:29.919 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=tnvlq0v3, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:34:29.928 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:34:29.931 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:34:29.931 [clientInboundChannel-10] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:34:29.931 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:34:29.931 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:34:29.937 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:34:29.937 [clientInboundChannel-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:34:29.937 [clientInboundChannel-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:34:29.937 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:34:29.937 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:34:29.937 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[tnvlq0v3-0]}
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[27]
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[27]
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:34:31.554 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:34:33.083 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 02:34:33.083 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: jloxgivs
2025-05-18 02:34:33.083 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=jloxgivs
2025-05-18 02:34:33.083 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:34:33.083 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=jloxgivs, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:34:33.083 [clientInboundChannel-16] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:34:33.083 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:34:33.083 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:34:33.083 [clientInboundChannel-16] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:34:33.083 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[tnvlq0v3-1]}
2025-05-18 02:34:33.101 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[jloxgivs-2]}
2025-05-18 02:34:51.552 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:34:51.552 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:34:51.552 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:34:51.552 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:34:51.552 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:34:51.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:34:51.584 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@3a4402b0, com.example.chess.entity.Player@3940d138]]
2025-05-18 02:34:51.584 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:34:51.593 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@3a4402b0, com.example.chess.entity.Player@3940d138]]
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [56]
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id56
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [56]
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@70cbed6e
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@5e72b5c4
2025-05-18 02:34:51.642 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:34:51.642 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":56,"color":"white"}
2025-05-18 02:34:51.656 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:34:51.656 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":56,"color":"black"}
2025-05-18 02:34:51.656 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:34:51.656 [clientOutboundChannel-6] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[tnvlq0v3-3]}
2025-05-18 02:34:51.656 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:34:51.656 [clientOutboundChannel-7] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[jloxgivs-4]}
2025-05-18 02:34:51.656 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:34:51.656 [clientOutboundChannel-9] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[jloxgivs-6]}
2025-05-18 02:34:51.663 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[tnvlq0v3-5]}
2025-05-18 02:35:11.526 [MessageBroker-10] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 42], outboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 13]
2025-05-18 02:35:11.552 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:35:11.553 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:35:11.553 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:35:11.553 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:35:11.553 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:35:11.553 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:35:31.556 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:35:51.556 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:36:11.555 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:36:31.548 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:36:51.554 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:37:11.560 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:37:11.561 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:37:11.561 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:37:11.561 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:37:11.561 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:37:11.561 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:37:31.558 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:37:51.557 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:37:51.558 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:37:51.558 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:37:51.558 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:37:51.558 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:37:51.558 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:38:11.553 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:38:31.550 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:38:48.155 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:38:48.155 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=tnvlq0v3
2025-05-18 02:38:48.162 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:38:48.163 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: tnvlq0v3
2025-05-18 02:38:49.078 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:38:49.078 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=jloxgivs
2025-05-18 02:38:49.081 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:38:49.081 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: jloxgivs
2025-05-18 02:38:51.554 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:38:51.555 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:38:51.555 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:38:51.555 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:38:51.555 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:38:51.555 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:39:11.561 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:39:11.561 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:39:11.562 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:39:11.562 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:39:11.562 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:39:11.562 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:39:31.553 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:39:31.554 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:39:31.554 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:39:31.554 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:39:31.554 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:39:31.554 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:39:51.560 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:40:11.561 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:40:31.622 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:40:51.551 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:40:56.374 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-4]} session=null
2025-05-18 02:40:56.374 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jloxgivs
2025-05-18 02:40:56.374 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-4 session=jloxgivs
2025-05-18 02:40:56.375 [clientOutboundChannel-10] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-4]}
2025-05-18 02:40:56.377 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jloxgivs] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:40:56.378 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jloxgivs
2025-05-18 02:40:56.378 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jloxgivs
2025-05-18 02:40:56.378 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=jloxgivs
2025-05-18 02:40:56.379 [clientOutboundChannel-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jloxgivs}], simpSessionId=jloxgivs}]
2025-05-18 02:40:57.082 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-5]} session=null
2025-05-18 02:40:57.083 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: tnvlq0v3
2025-05-18 02:40:57.083 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-5 session=tnvlq0v3
2025-05-18 02:40:57.083 [clientOutboundChannel-12] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-5]}
2025-05-18 02:40:57.086 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tnvlq0v3] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:40:57.086 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tnvlq0v3
2025-05-18 02:40:57.086 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: tnvlq0v3
2025-05-18 02:40:57.086 [clientInboundChannel-47] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=tnvlq0v3
2025-05-18 02:40:57.086 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=tnvlq0v3}], simpSessionId=tnvlq0v3}]
2025-05-18 02:41:02.723 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [jloxgivs, tnvlq0v3]
2025-05-18 02:41:06.076 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:41:06.076 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:41:06.276 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:41:06.276 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:41:06.338 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:41:06.338 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525266309
2025-05-18 02:41:06.351 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:41:06.352 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/493/iqih2spr/websocket
2025-05-18 02:41:06.354 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=iqih2spr]
2025-05-18 02:41:06.357 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:41:06.357 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии iqih2spr
2025-05-18 02:41:06.361 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=iqih2spr
2025-05-18 02:41:06.365 [clientOutboundChannel-14] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:41:06.379 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:41:06.380 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:41:06.384 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:41:06.386 [clientInboundChannel-56] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=iqih2spr
2025-05-18 02:41:06.386 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:41:06.386 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:41:06.406 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:41:06.407 [clientInboundChannel-37] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=iqih2spr
2025-05-18 02:41:06.410 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:41:06.410 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:41:06.413 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:41:06.413 [clientInboundChannel-43] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=iqih2spr
2025-05-18 02:41:06.416 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:41:06.416 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:41:08.982 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:41:08.982 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:41:09.168 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:41:09.168 [http-nio-8080-exec-7] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:41:09.227 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:41:09.227 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525269219
2025-05-18 02:41:09.286 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:41:09.286 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/199/ty10jjex/websocket
2025-05-18 02:41:09.290 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ty10jjex]
2025-05-18 02:41:09.300 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:41:09.300 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии ty10jjex
2025-05-18 02:41:09.300 [clientInboundChannel-49] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ty10jjex
2025-05-18 02:41:09.303 [clientOutboundChannel-15] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:41:09.318 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:41:09.318 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:41:09.321 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:41:09.321 [clientInboundChannel-57] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=ty10jjex
2025-05-18 02:41:09.321 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:41:09.321 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:41:09.321 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:41:09.329 [clientInboundChannel-39] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=ty10jjex
2025-05-18 02:41:09.329 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:41:09.329 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:41:09.337 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:41:09.338 [clientInboundChannel-45] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=ty10jjex
2025-05-18 02:41:09.338 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:41:09.338 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:41:10.054 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:41:10.055 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:41:10.056 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:41:10.056 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=ty10jjex
2025-05-18 02:41:10.056 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=ty10jjex, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:41:10.057 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:41:10.057 [clientInboundChannel-51] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:41:10.057 [clientInboundChannel-51] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:41:10.057 [clientInboundChannel-51] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:41:10.057 [clientOutboundChannel-16] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[ty10jjex-7]}
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[27]
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[27]
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:41:11.550 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:41:12.617 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:41:12.617 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:41:12.617 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:41:12.658 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=iqih2spr
2025-05-18 02:41:12.660 [clientInboundChannel-55] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=iqih2spr, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:41:12.660 [clientInboundChannel-55] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:41:12.660 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:41:12.660 [clientInboundChannel-55] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:41:12.660 [clientInboundChannel-55] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:41:12.662 [clientOutboundChannel-18] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[iqih2spr-8]}
2025-05-18 02:41:12.670 [clientOutboundChannel-17] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[ty10jjex-9]}
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@4f7d0a54, com.example.chess.entity.Player@697f4368]]
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@4f7d0a54, com.example.chess.entity.Player@697f4368]]
2025-05-18 02:41:31.565 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [57]
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id57
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [57]
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@63b58a25
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@7b5b912f
2025-05-18 02:41:31.578 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:41:31.579 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":57,"color":"white"}
2025-05-18 02:41:31.579 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:41:31.579 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":57,"color":"black"}
2025-05-18 02:41:31.579 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:41:31.581 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:41:31.581 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:41:31.589 [clientOutboundChannel-19] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[ty10jjex-10]}
2025-05-18 02:41:31.589 [clientOutboundChannel-21] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[ty10jjex-12]}
2025-05-18 02:41:31.589 [clientOutboundChannel-22] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[iqih2spr-11]}
2025-05-18 02:41:31.589 [clientOutboundChannel-20] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[iqih2spr-13]}
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:41:51.561 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:42:11.555 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:42:31.562 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:42:51.550 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:43:11.551 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:43:31.556 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:43:31.556 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:43:31.557 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:43:31.557 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:43:31.557 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:43:31.557 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:43:51.590 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:43:51.593 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:43:51.593 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:43:51.593 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:43:51.593 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:43:51.593 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:44:11.633 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:44:31.560 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:44:44.113 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:44:44.113 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:44:44.113 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=ty10jjex
2025-05-18 02:44:44.113 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:44:44.178 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:44:44.179 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=iqih2spr
2025-05-18 02:44:44.179 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:44:44.179 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:44:51.561 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:45:04.079 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:45:04.079 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=ty10jjex
2025-05-18 02:45:04.079 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:45:04.080 [clientInboundChannel-77] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=iqih2spr
2025-05-18 02:45:04.080 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:04.080 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:45:04.082 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:04.082 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:45:04.089 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-6]} session=null
2025-05-18 02:45:04.090 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-6 session=ty10jjex
2025-05-18 02:45:04.091 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:04.091 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ty10jjex
2025-05-18 02:45:04.093 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-6]} session=null
2025-05-18 02:45:04.093 [clientInboundChannel-69] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-6 session=iqih2spr
2025-05-18 02:45:04.095 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:04.095 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: iqih2spr
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:45:11.551 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:45:17.807 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-8]} session=null
2025-05-18 02:45:17.807 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: iqih2spr
2025-05-18 02:45:17.808 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-7]} session=null
2025-05-18 02:45:17.808 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-8 session=iqih2spr
2025-05-18 02:45:17.808 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-7 session=iqih2spr
2025-05-18 02:45:17.825 [clientOutboundChannel-23] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-8]}
2025-05-18 02:45:17.834 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=iqih2spr] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:45:17.835 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session iqih2spr
2025-05-18 02:45:17.835 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: iqih2spr
2025-05-18 02:45:17.835 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=iqih2spr
2025-05-18 02:45:17.836 [clientOutboundChannel-24] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=iqih2spr}], simpSessionId=iqih2spr}]
2025-05-18 02:45:20.718 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-8]} session=null
2025-05-18 02:45:20.718 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: ty10jjex
2025-05-18 02:45:20.718 [clientInboundChannel-83] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-8 session=ty10jjex
2025-05-18 02:45:20.718 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-7]} session=null
2025-05-18 02:45:20.722 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ty10jjex] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:45:20.722 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ty10jjex
2025-05-18 02:45:20.722 [clientInboundChannel-83] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-7 session=ty10jjex
2025-05-18 02:45:20.722 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: ty10jjex
2025-05-18 02:45:20.722 [clientOutboundChannel-25] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, nativeHeaders={receipt=[close-8]}, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpHeartbeat=[J@4d20ac6c, simpSessionId=ty10jjex}], simpSessionId=ty10jjex}]
2025-05-18 02:45:20.722 [clientInboundChannel-64] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ty10jjex
2025-05-18 02:45:20.722 [clientOutboundChannel-26] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ty10jjex}], simpSessionId=ty10jjex}]
2025-05-18 02:45:22.822 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:45:22.823 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:45:23.010 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:45:23.010 [http-nio-8080-exec-3] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:45:23.040 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:45:23.040 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525523036
2025-05-18 02:45:23.361 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:45:23.361 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/968/uvivwvi0/websocket
2025-05-18 02:45:23.361 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=uvivwvi0]
2025-05-18 02:45:23.365 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:45:23.365 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии uvivwvi0
2025-05-18 02:45:23.365 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=uvivwvi0
2025-05-18 02:45:23.365 [clientOutboundChannel-27] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:45:23.376 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:23.376 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:23.381 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:45:23.381 [clientInboundChannel-75] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=uvivwvi0
2025-05-18 02:45:23.381 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:23.381 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:23.381 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:45:23.381 [clientInboundChannel-79] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=uvivwvi0
2025-05-18 02:45:23.381 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:23.381 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:27.722 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [iqih2spr, ty10jjex]
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:45:31.551 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:45:32.196 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:45:32.196 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:45:32.392 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:45:32.392 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:45:32.440 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:45:32.440 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525532436
2025-05-18 02:45:32.476 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@27ad94b3
2025-05-18 02:45:32.476 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/878/o1zo5ywb/websocket
2025-05-18 02:45:32.479 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=o1zo5ywb]
2025-05-18 02:45:32.483 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:45:32.483 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии o1zo5ywb
2025-05-18 02:45:32.483 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=o1zo5ywb
2025-05-18 02:45:32.485 [clientOutboundChannel-28] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:45:32.491 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:32.491 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:32.498 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:45:32.501 [clientInboundChannel-67] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=o1zo5ywb
2025-05-18 02:45:32.501 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:32.501 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:34.272 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 02:45:34.272 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:34.273 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:45:34.273 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=o1zo5ywb
2025-05-18 02:45:34.274 [clientInboundChannel-73] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=o1zo5ywb, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:45:34.274 [clientInboundChannel-73] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:45:34.275 [clientInboundChannel-73] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:45:34.275 [clientInboundChannel-73] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:45:34.276 [clientInboundChannel-73] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:45:34.277 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:45:34.278 [clientInboundChannel-73] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:45:34.280 [clientInboundChannel-73] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:45:34.280 [clientInboundChannel-73] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:45:34.280 [clientInboundChannel-73] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:45:34.280 [clientInboundChannel-73] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:45:34.280 [clientOutboundChannel-29] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-14]}
2025-05-18 02:45:37.360 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:45:37.361 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:37.361 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:45:37.363 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=uvivwvi0
2025-05-18 02:45:37.363 [clientInboundChannel-80] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=uvivwvi0, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:45:37.363 [clientInboundChannel-80] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:45:37.363 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:45:37.363 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:45:37.363 [clientInboundChannel-80] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:45:37.372 [clientOutboundChannel-31] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-15]}
2025-05-18 02:45:37.372 [clientOutboundChannel-30] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-16]}
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@258a98c1, com.example.chess.entity.Player@43556aa8]]
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:45:51.560 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@258a98c1, com.example.chess.entity.Player@43556aa8]]
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [58]
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id58
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [58]
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@6079aaa0
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@26511efa
2025-05-18 02:45:51.574 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:45:51.574 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":58,"color":"white"}
2025-05-18 02:45:51.574 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:45:51.574 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":58,"color":"black"}
2025-05-18 02:45:51.574 [MessageBroker-12] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:45:51.576 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:45:51.576 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:45:51.576 [clientOutboundChannel-34] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-19]}
2025-05-18 02:45:51.574 [clientOutboundChannel-32] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-17]}
2025-05-18 02:45:51.576 [clientOutboundChannel-33] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-18]}
2025-05-18 02:45:51.580 [clientOutboundChannel-35] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-20]}
2025-05-18 02:45:51.613 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:45:51.613 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:51.613 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:51.621 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-4]} session=null
2025-05-18 02:45:51.621 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:51.621 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:51.621 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=uvivwvi0
2025-05-18 02:45:51.621 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-4 session=uvivwvi0
2025-05-18 02:45:51.631 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:45:51.642 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:51.642 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:51.642 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-6]} session=null
2025-05-18 02:45:51.643 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:51.643 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:51.643 [clientInboundChannel-75] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=uvivwvi0
2025-05-18 02:45:51.643 [clientInboundChannel-75] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-6 session=uvivwvi0
2025-05-18 02:45:51.643 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-7]} session=null
2025-05-18 02:45:51.646 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-8], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:45:51.646 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:51.646 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-7 session=uvivwvi0
2025-05-18 02:45:51.674 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:45:51.674 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=o1zo5ywb
2025-05-18 02:45:51.690 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:51.690 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:51.692 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:45:51.692 [clientInboundChannel-75] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=o1zo5ywb
2025-05-18 02:45:51.692 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:51.692 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:51.701 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-4]} session=null
2025-05-18 02:45:51.701 [clientInboundChannel-79] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-4 session=o1zo5ywb
2025-05-18 02:45:51.703 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:45:51.704 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:45:59.553 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-9], destination=[/queue/matchmaking]} session=null
2025-05-18 02:45:59.557 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:45:59.557 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:45:59.557 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-9 session=uvivwvi0
2025-05-18 02:45:59.557 [clientInboundChannel-63] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=uvivwvi0, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:45:59.557 [clientInboundChannel-63] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:45:59.557 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:45:59.557 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:45:59.557 [clientInboundChannel-63] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:45:59.560 [clientOutboundChannel-37] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-21]}
2025-05-18 02:45:59.560 [clientOutboundChannel-38] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-9], message-id=[uvivwvi0-22]}
2025-05-18 02:45:59.560 [clientOutboundChannel-36] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-23]}
2025-05-18 02:46:03.068 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/queue/matchmaking]} session=null
2025-05-18 02:46:03.068 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:46:03.068 [clientInboundChannel-69] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-6 session=o1zo5ywb
2025-05-18 02:46:03.068 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:46:03.068 [clientInboundChannel-68] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=o1zo5ywb, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:46:03.070 [clientInboundChannel-68] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:46:03.070 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:46:03.070 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:46:03.070 [clientOutboundChannel-39] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-24]}
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:46:03.070 [clientInboundChannel-68] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:46:03.070 [clientOutboundChannel-40] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-6], message-id=[o1zo5ywb-26]}
2025-05-18 02:46:03.070 [clientOutboundChannel-42] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-9], message-id=[uvivwvi0-25]}
2025-05-18 02:46:03.070 [clientOutboundChannel-41] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-27]}
2025-05-18 02:46:11.553 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:46:11.553 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:46:11.554 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:46:11.554 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:46:11.554 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:46:11.554 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@829f225, com.example.chess.entity.Player@4d663462]]
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@829f225, com.example.chess.entity.Player@4d663462]]
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [59]
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id59
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [59]
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@563d0061
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@28fb7020
2025-05-18 02:46:11.555 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:46:11.555 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":59,"color":"white"}
2025-05-18 02:46:11.555 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:46:11.567 [clientOutboundChannel-43] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-28]}
2025-05-18 02:46:11.567 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":59,"color":"black"}
2025-05-18 02:46:11.567 [clientOutboundChannel-44] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-6], message-id=[o1zo5ywb-29]}
2025-05-18 02:46:11.567 [clientOutboundChannel-45] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-30]}
2025-05-18 02:46:11.567 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:46:11.567 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:46:11.567 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:46:11.568 [clientOutboundChannel-23] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[o1zo5ywb-31]}
2025-05-18 02:46:11.568 [clientOutboundChannel-24] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-6], message-id=[o1zo5ywb-32]}
2025-05-18 02:46:11.568 [clientOutboundChannel-23] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[uvivwvi0-33]}
2025-05-18 02:46:11.568 [clientOutboundChannel-24] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-9], message-id=[uvivwvi0-34]}
2025-05-18 02:46:11.568 [clientOutboundChannel-46] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-9], message-id=[uvivwvi0-35]}
2025-05-18 02:46:11.627 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:46:11.627 [clientInboundChannel-76] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=o1zo5ywb
2025-05-18 02:46:11.635 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:46:11.637 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:46:11.637 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-7]} session=null
2025-05-18 02:46:11.637 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-7 session=o1zo5ywb
2025-05-18 02:46:11.637 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-8], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:46:11.637 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:46:11.642 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-8]} session=null
2025-05-18 02:46:11.642 [clientInboundChannel-82] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-8 session=uvivwvi0
2025-05-18 02:46:11.646 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-8]} session=null
2025-05-18 02:46:11.646 [clientInboundChannel-65] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-8 session=o1zo5ywb
2025-05-18 02:46:11.646 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-9], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:46:11.646 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: o1zo5ywb
2025-05-18 02:46:11.652 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-10], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:46:11.652 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:46:11.655 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-10]} session=null
2025-05-18 02:46:11.655 [clientInboundChannel-78] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-10 session=uvivwvi0
2025-05-18 02:46:11.656 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-11], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:46:11.656 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:46:11.664 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-11]} session=null
2025-05-18 02:46:11.664 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-11 session=uvivwvi0
2025-05-18 02:46:11.664 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-12], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:46:11.664 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: uvivwvi0
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:46:31.550 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:46:51.549 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:47:11.563 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:47:31.557 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:47:51.550 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:48:11.547 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:48:31.548 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:48:31.548 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:48:31.549 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:48:31.549 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:48:31.549 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:48:31.549 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:48:51.549 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:48:51.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:48:51.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:48:51.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:48:51.550 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:48:51.550 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:48:55.953 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-10]} session=null
2025-05-18 02:48:55.953 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: o1zo5ywb
2025-05-18 02:48:55.953 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-9]} session=null
2025-05-18 02:48:55.954 [clientInboundChannel-88] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-10 session=o1zo5ywb
2025-05-18 02:48:55.955 [clientInboundChannel-91] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-9 session=o1zo5ywb
2025-05-18 02:48:55.964 [clientOutboundChannel-47] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-10]}
2025-05-18 02:48:55.970 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=o1zo5ywb] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:48:55.970 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session o1zo5ywb
2025-05-18 02:48:55.971 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: o1zo5ywb
2025-05-18 02:48:55.973 [clientInboundChannel-94] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=o1zo5ywb
2025-05-18 02:48:55.973 [clientOutboundChannel-48] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=o1zo5ywb}], simpSessionId=o1zo5ywb}]
2025-05-18 02:48:58.680 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-13]} session=null
2025-05-18 02:48:58.680 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: uvivwvi0
2025-05-18 02:48:58.690 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-12]} session=null
2025-05-18 02:48:58.691 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=uvivwvi0] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:48:58.691 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session uvivwvi0
2025-05-18 02:48:58.692 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: uvivwvi0
2025-05-18 02:48:58.705 [clientInboundChannel-103] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=uvivwvi0
2025-05-18 02:48:58.728 [clientInboundChannel-100] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-12 session=uvivwvi0
2025-05-18 02:48:58.728 [clientInboundChannel-97] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-13 session=uvivwvi0
2025-05-18 02:48:58.728 [clientOutboundChannel-49] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=uvivwvi0}], simpSessionId=uvivwvi0}]
2025-05-18 02:48:58.728 [clientOutboundChannel-50] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, nativeHeaders={receipt=[close-13]}, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpHeartbeat=[J@19af5ea4, simpSessionId=uvivwvi0}], simpSessionId=uvivwvi0}]
2025-05-18 02:49:02.727 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [o1zo5ywb]
2025-05-18 02:49:03.934 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:49:03.938 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bba7b40]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:49:03.946 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:49:03.948 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:49:03.953 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:49:03.959 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:49:08.364 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 22072 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:49:08.366 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:49:08.944 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:49:08.993 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2025-05-18 02:49:09.546 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:49:09.557 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:49:09.557 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:49:09.599 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:49:09.599 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1197 ms
2025-05-18 02:49:09.715 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:49:09.747 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:49:09.782 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:49:09.959 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:49:09.976 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:49:10.204 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d9af731
2025-05-18 02:49:10.206 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:49:10.275 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:49:11.117 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:49:11.291 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:49:11.321 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@769a9b7a
2025-05-18 02:49:11.412 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:49:11.803 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:49:12.577 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:49:12.873 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:49:13.218 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.220 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.220 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.220 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.221 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.221 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.222 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.223 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.223 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:49:13.680 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:49:13.680 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:49:13.680 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:49:13.680 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]
2025-05-18 02:49:13.681 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]
2025-05-18 02:49:13.681 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]]
2025-05-18 02:49:13.682 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:49:13.682 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:49:13.682 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:49:13.699 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:49:13.708 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.737 seconds (process running for 6.177)
2025-05-18 02:49:13.720 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:49:13.720 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:49:13.720 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:49:13.721 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:49:13.722 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:49:13.722 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:49:15.574 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:49:15.574 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:49:15.574 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:49:15.901 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:49:15.901 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:49:16.341 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:49:16.341 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:49:16.441 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@88432f5
2025-05-18 02:49:16.465 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525756429
2025-05-18 02:49:16.566 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@88432f5
2025-05-18 02:49:16.570 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/182/xqqhrjag/websocket
2025-05-18 02:49:16.614 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xqqhrjag]
2025-05-18 02:49:16.640 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:49:16.640 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии xqqhrjag
2025-05-18 02:49:16.647 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=xqqhrjag
2025-05-18 02:49:16.652 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:49:16.660 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:16.660 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:16.664 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:49:16.668 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=xqqhrjag
2025-05-18 02:49:16.668 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:16.668 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:16.672 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:49:16.674 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:16.674 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=xqqhrjag
2025-05-18 02:49:16.674 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:16.678 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:49:16.678 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=xqqhrjag
2025-05-18 02:49:16.681 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:16.681 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:21.688 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:49:21.689 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:49:21.888 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:49:21.904 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:49:21.947 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@88432f5
2025-05-18 02:49:21.948 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747525761930
2025-05-18 02:49:21.967 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@88432f5
2025-05-18 02:49:21.967 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/949/kwosi2ig/websocket
2025-05-18 02:49:21.972 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kwosi2ig]
2025-05-18 02:49:21.978 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:49:21.978 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии kwosi2ig
2025-05-18 02:49:21.979 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=kwosi2ig
2025-05-18 02:49:21.980 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:49:21.996 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:21.996 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:21.996 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:49:22.000 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=kwosi2ig
2025-05-18 02:49:22.000 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:22.000 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:22.005 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:49:22.005 [clientInboundChannel-15] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=kwosi2ig
2025-05-18 02:49:22.005 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:22.005 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:26.009 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:49:26.009 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:26.009 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:49:26.009 [clientInboundChannel-19] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=kwosi2ig
2025-05-18 02:49:26.009 [clientInboundChannel-21] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=kwosi2ig, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:49:26.021 [clientInboundChannel-21] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:49:26.025 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:49:26.025 [clientInboundChannel-21] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:49:26.025 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:49:26.027 [clientInboundChannel-21] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:49:26.028 [clientInboundChannel-21] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 02:49:26.028 [clientInboundChannel-21] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:49:26.028 [clientInboundChannel-21] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:49:26.028 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:49:26.028 [clientInboundChannel-21] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:49:26.028 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[kwosi2ig-0]}
2025-05-18 02:49:29.121 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/queue/matchmaking]} session=null
2025-05-18 02:49:29.121 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:29.121 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-4 session=xqqhrjag
2025-05-18 02:49:29.121 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:49:29.121 [clientInboundChannel-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=xqqhrjag, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:49:29.121 [clientInboundChannel-4] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:49:29.121 [clientInboundChannel-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:49:29.121 [clientInboundChannel-4] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:49:29.121 [clientInboundChannel-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:49:29.121 [clientInboundChannel-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:49:29.121 [clientInboundChannel-4] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:49:29.123 [clientInboundChannel-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:49:29.123 [clientInboundChannel-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:49:29.123 [clientInboundChannel-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:49:29.123 [clientInboundChannel-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:49:29.123 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[kwosi2ig-1]}
2025-05-18 02:49:29.123 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[xqqhrjag-2]}
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:49:33.717 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:49:33.738 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@6a0b49c7, com.example.chess.entity.Player@293730a1]]
2025-05-18 02:49:33.738 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:49:33.753 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@6a0b49c7, com.example.chess.entity.Player@293730a1]]
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [60]
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id60
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [60]
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@1ea0b3c4
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@5345e802
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:49:33.803 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":60,"color":"white"}
2025-05-18 02:49:33.803 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:49:33.803 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":60,"color":"black"}
2025-05-18 02:49:33.803 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:49:33.803 [clientOutboundChannel-7] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[xqqhrjag-3]}
2025-05-18 02:49:33.803 [clientOutboundChannel-6] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[kwosi2ig-4]}
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:49:33.803 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:49:33.803 [clientOutboundChannel-9] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-4], message-id=[xqqhrjag-6]}
2025-05-18 02:49:33.803 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[kwosi2ig-5]}
2025-05-18 02:49:33.831 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:49:33.831 [clientInboundChannel-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=xqqhrjag
2025-05-18 02:49:33.840 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:33.841 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:33.841 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:49:33.842 [clientInboundChannel-13] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=xqqhrjag
2025-05-18 02:49:33.862 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:33.863 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:33.866 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-6]} session=null
2025-05-18 02:49:33.868 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-6 session=xqqhrjag
2025-05-18 02:49:33.868 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:49:33.868 [clientInboundChannel-24] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=kwosi2ig
2025-05-18 02:49:33.869 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:49:33.870 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: xqqhrjag
2025-05-18 02:49:33.879 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:33.879 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:33.879 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-4]} session=null
2025-05-18 02:49:33.879 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-4 session=kwosi2ig
2025-05-18 02:49:33.883 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:33.883 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:33.889 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:49:33.890 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=kwosi2ig
2025-05-18 02:49:33.891 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:49:33.892 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kwosi2ig
2025-05-18 02:49:53.707 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:49:53.708 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:49:53.708 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:49:53.709 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:49:53.709 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:49:53.709 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:50:13.674 [MessageBroker-10] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 90], outboundChannel[pool size = 9, active threads = 0, queued tasks = 0, completed tasks = 9], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 17]
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:50:13.705 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:50:33.710 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:50:53.713 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:50:53.713 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:50:53.715 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:50:53.715 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:50:53.715 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:50:53.715 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:51:13.717 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:51:33.757 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:51:53.715 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:52:13.705 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:52:33.712 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:52:53.722 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:52:53.723 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:52:53.723 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:52:53.723 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:52:53.723 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:52:53.723 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:53:13.710 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:53:33.733 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:53:51.092 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-7]} session=null
2025-05-18 02:53:51.092 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: kwosi2ig
2025-05-18 02:53:51.092 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-8]} session=null
2025-05-18 02:53:51.092 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: xqqhrjag
2025-05-18 02:53:51.093 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-7 session=kwosi2ig
2025-05-18 02:53:51.093 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-8 session=xqqhrjag
2025-05-18 02:53:51.095 [clientOutboundChannel-10] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-7]}
2025-05-18 02:53:51.095 [clientOutboundChannel-11] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-8]}
2025-05-18 02:53:51.097 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kwosi2ig] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:53:51.097 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kwosi2ig
2025-05-18 02:53:51.098 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: kwosi2ig
2025-05-18 02:53:51.099 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=kwosi2ig
2025-05-18 02:53:51.099 [clientOutboundChannel-12] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=kwosi2ig}], simpSessionId=kwosi2ig}]
2025-05-18 02:53:51.101 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xqqhrjag] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:53:51.101 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xqqhrjag
2025-05-18 02:53:51.101 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: xqqhrjag
2025-05-18 02:53:51.102 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=xqqhrjag
2025-05-18 02:53:51.102 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xqqhrjag}], simpSessionId=xqqhrjag}]
2025-05-18 02:53:53.718 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:53:53.718 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:53:53.719 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:53:53.719 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:53:53.719 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:53:53.719 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:53:56.584 [MessageBroker-12] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [xqqhrjag, kwosi2ig]
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:54:13.717 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:54:33.714 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:54:33.714 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:54:33.714 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:54:33.714 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:54:33.714 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:54:33.715 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:54:53.718 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:54:57.507 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 02:54:57.512 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2aea50a6]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:54:57.514 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:54:57.515 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:54:57.517 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 02:54:57.520 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 02:55:01.392 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 25524 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 02:55:01.393 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 02:55:02.094 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 02:55:02.146 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2025-05-18 02:55:02.692 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 02:55:02.703 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 02:55:02.703 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 02:55:02.752 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 02:55:02.752 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1311 ms
2025-05-18 02:55:02.910 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 02:55:02.943 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 02:55:02.965 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 02:55:03.148 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 02:55:03.167 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 02:55:03.638 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ede035e
2025-05-18 02:55:03.639 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 02:55:03.712 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 02:55:04.408 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 02:55:04.489 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 02:55:04.503 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@6e4bccc
2025-05-18 02:55:04.569 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 02:55:04.893 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 02:55:05.517 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 02:55:05.757 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 02:55:05.987 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.988 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.988 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.988 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.988 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.988 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.989 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.989 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:05.989 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 02:55:06.278 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]
2025-05-18 02:55:06.278 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]]
2025-05-18 02:55:06.278 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:55:06.278 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 02:55:06.299 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 02:55:06.303 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.287 seconds (process running for 5.751)
2025-05-18 02:55:06.303 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:55:06.303 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:55:06.303 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:55:06.315 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:55:06.315 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:55:06.315 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:55:13.683 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 02:55:13.683 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 02:55:13.683 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 02:55:13.941 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:55:13.941 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:55:14.382 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:55:14.382 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:55:14.490 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:55:14.490 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526114462
2025-05-18 02:55:14.514 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:55:14.514 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/560/obxla1gs/websocket
2025-05-18 02:55:14.574 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=obxla1gs]
2025-05-18 02:55:14.606 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:55:14.616 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии obxla1gs
2025-05-18 02:55:14.621 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=obxla1gs
2025-05-18 02:55:14.623 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:55:14.636 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:55:14.636 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: obxla1gs
2025-05-18 02:55:14.639 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:55:14.639 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:55:14.639 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: obxla1gs
2025-05-18 02:55:14.639 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=obxla1gs
2025-05-18 02:55:14.639 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:55:14.639 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:55:14.639 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=obxla1gs
2025-05-18 02:55:14.639 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: obxla1gs
2025-05-18 02:55:26.210 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:55:26.210 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:55:26.325 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:55:26.399 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:55:26.399 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:55:26.499 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:55:26.500 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526126477
2025-05-18 02:55:26.526 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:55:26.526 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/123/jw1od5ph/websocket
2025-05-18 02:55:26.531 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jw1od5ph]
2025-05-18 02:55:26.551 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:55:26.551 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии jw1od5ph
2025-05-18 02:55:26.552 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=jw1od5ph
2025-05-18 02:55:26.553 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:55:26.565 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:55:26.565 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: jw1od5ph
2025-05-18 02:55:26.572 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:55:26.576 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=jw1od5ph
2025-05-18 02:55:26.577 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:55:26.577 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: jw1od5ph
2025-05-18 02:55:29.068 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:55:29.068 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=jw1od5ph, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:55:29.079 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:55:29.084 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:55:29.084 [clientInboundChannel-7] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:55:29.084 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:55:29.089 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:55:29.089 [clientInboundChannel-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:55:29.089 [clientInboundChannel-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:55:29.089 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:55:29.089 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:55:33.322 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:55:33.322 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=obxla1gs, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:55:33.322 [clientInboundChannel-10] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:55:33.322 [clientInboundChannel-10] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:55:33.322 [clientInboundChannel-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:55:46.320 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:55:46.361 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@7c9fd477, com.example.chess.entity.Player@7a73cf89]]
2025-05-18 02:55:46.361 [MessageBroker-9] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:55:46.381 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@7c9fd477, com.example.chess.entity.Player@7a73cf89]]
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [61]
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id61
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [61]
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@1c5db738
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@566001b8
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:55:46.444 [MessageBroker-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":61,"color":"white"}
2025-05-18 02:55:46.444 [MessageBroker-9] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":61,"color":"black"}
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:55:46.444 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:56:06.276 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 24, active threads = 0, queued tasks = 0, completed tasks = 36], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 2], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 4, completed tasks = 17]
2025-05-18 02:56:06.306 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:56:06.306 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:56:06.307 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:56:06.307 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:56:06.307 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:56:06.308 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:56:26.321 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:56:46.319 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:57:06.317 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:57:26.309 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:57:46.312 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:57:46.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:57:46.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:57:46.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:57:46.313 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:57:46.313 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:57:56.110 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-2]} session=null
2025-05-18 02:57:56.111 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jw1od5ph
2025-05-18 02:57:56.111 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-2 session=jw1od5ph
2025-05-18 02:57:56.112 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-2]}
2025-05-18 02:57:56.115 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jw1od5ph] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:57:56.116 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jw1od5ph
2025-05-18 02:57:56.116 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jw1od5ph
2025-05-18 02:57:56.117 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=jw1od5ph
2025-05-18 02:57:56.117 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jw1od5ph}], simpSessionId=jw1od5ph}]
2025-05-18 02:57:57.083 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-3]} session=null
2025-05-18 02:57:57.083 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: obxla1gs
2025-05-18 02:57:57.083 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-3 session=obxla1gs
2025-05-18 02:57:57.084 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-3]}
2025-05-18 02:57:57.087 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=obxla1gs] closed with CloseStatus[code=1000, reason=null]
2025-05-18 02:57:57.087 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session obxla1gs
2025-05-18 02:57:57.088 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: obxla1gs
2025-05-18 02:57:57.088 [clientInboundChannel-35] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=obxla1gs
2025-05-18 02:57:57.089 [clientOutboundChannel-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=obxla1gs}], simpSessionId=obxla1gs}]
2025-05-18 02:58:02.083 [http-nio-8080-exec-5] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:58:02.083 [http-nio-8080-exec-5] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 02:58:02.256 [http-nio-8080-exec-5] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 02:58:02.256 [http-nio-8080-exec-5] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 02:58:02.285 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:58:02.286 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526282282
2025-05-18 02:58:02.341 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:58:02.341 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/579/wjo5kjhi/websocket
2025-05-18 02:58:02.341 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wjo5kjhi]
2025-05-18 02:58:02.347 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:58:02.348 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии wjo5kjhi
2025-05-18 02:58:02.380 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=wjo5kjhi
2025-05-18 02:58:02.389 [clientOutboundChannel-7] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:58:02.396 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:02.396 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:02.404 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:58:02.404 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:02.406 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:02.406 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=wjo5kjhi
2025-05-18 02:58:04.521 [MessageBroker-11] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [obxla1gs, jw1od5ph]
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:58:06.310 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:58:07.460 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 02:58:07.460 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 02:58:07.638 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 02:58:07.639 [http-nio-8080-exec-1] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 02:58:07.664 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:58:07.664 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526287660
2025-05-18 02:58:07.730 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 02:58:07.730 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/249/jmr3gn5y/websocket
2025-05-18 02:58:07.741 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jmr3gn5y]
2025-05-18 02:58:07.742 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 02:58:07.742 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии jmr3gn5y
2025-05-18 02:58:07.742 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=jmr3gn5y
2025-05-18 02:58:07.742 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 02:58:07.756 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:07.756 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:07.756 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 02:58:07.756 [clientInboundChannel-33] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=jmr3gn5y
2025-05-18 02:58:07.756 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:07.756 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:07.764 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:58:07.764 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=jmr3gn5y
2025-05-18 02:58:07.764 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:07.764 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:09.098 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/queue/matchmaking]} session=null
2025-05-18 02:58:09.098 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:09.098 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 02:58:09.098 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=jmr3gn5y, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 02:58:09.098 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 02:58:09.098 [clientInboundChannel-45] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:58:09.098 [clientInboundChannel-45] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:58:09.103 [clientInboundChannel-45] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:58:09.098 [clientInboundChannel-42] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-3 session=jmr3gn5y
2025-05-18 02:58:11.723 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 02:58:11.723 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:11.723 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 02:58:11.723 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=wjo5kjhi
2025-05-18 02:58:11.725 [clientInboundChannel-27] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=wjo5kjhi, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 02:58:11.725 [clientInboundChannel-27] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 02:58:11.725 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 02:58:11.725 [clientInboundChannel-27] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 02:58:11.727 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 02:58:11.727 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 02:58:11.727 [clientInboundChannel-27] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:58:11.729 [clientInboundChannel-27] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 02:58:11.730 [clientInboundChannel-27] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 02:58:11.730 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 02:58:11.730 [clientInboundChannel-27] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 02:58:11.730 [clientOutboundChannel-10] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[wjo5kjhi-1]}
2025-05-18 02:58:11.730 [clientOutboundChannel-9] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[jmr3gn5y-0]}
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@1e2a5562, com.example.chess.entity.Player@5bee6321]]
2025-05-18 02:58:26.311 [MessageBroker-2] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 02:58:26.319 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@1e2a5562, com.example.chess.entity.Player@5bee6321]]
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [62]
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id62
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [62]
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@cddc699
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@25e931be
2025-05-18 02:58:26.344 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 02:58:26.351 [MessageBroker-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":62,"color":"white"}
2025-05-18 02:58:26.351 [MessageBroker-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:58:26.352 [MessageBroker-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":62,"color":"black"}
2025-05-18 02:58:26.352 [MessageBroker-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 02:58:26.352 [clientOutboundChannel-12] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[wjo5kjhi-3]}
2025-05-18 02:58:26.352 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 02:58:26.352 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:58:26.352 [clientOutboundChannel-11] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[jmr3gn5y-2]}
2025-05-18 02:58:26.352 [clientOutboundChannel-13] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-3], message-id=[jmr3gn5y-4]}
2025-05-18 02:58:26.352 [clientOutboundChannel-14] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[wjo5kjhi-5]}
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-4]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.391 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.395 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=wjo5kjhi
2025-05-18 02:58:26.396 [clientInboundChannel-32] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-4 session=wjo5kjhi
2025-05-18 02:58:26.395 [clientInboundChannel-31] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=wjo5kjhi
2025-05-18 02:58:26.436 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:58:26.442 [clientInboundChannel-25] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=wjo5kjhi
2025-05-18 02:58:26.443 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-2]} session=null
2025-05-18 02:58:26.443 [clientInboundChannel-29] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-2 session=jmr3gn5y
2025-05-18 02:58:26.447 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.447 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.447 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-6]} session=null
2025-05-18 02:58:26.447 [clientInboundChannel-34] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-6 session=wjo5kjhi
2025-05-18 02:58:26.451 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-7], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.452 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.455 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:26.455 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:26.457 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-4]} session=null
2025-05-18 02:58:26.457 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-4 session=jmr3gn5y
2025-05-18 02:58:26.457 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-5], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:26.457 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:26.462 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-7]} session=null
2025-05-18 02:58:26.462 [clientInboundChannel-26] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-7 session=wjo5kjhi
2025-05-18 02:58:26.462 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-8], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 02:58:26.462 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: wjo5kjhi
2025-05-18 02:58:26.463 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-5]} session=null
2025-05-18 02:58:26.468 [clientInboundChannel-33] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-5 session=jmr3gn5y
2025-05-18 02:58:26.470 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-6], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 02:58:26.470 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: jmr3gn5y
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:58:46.318 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:59:06.318 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:59:26.312 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:59:26.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:59:26.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:59:26.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:59:26.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:59:26.313 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 02:59:46.310 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:00:06.311 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:00:06.311 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:00:06.311 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:00:06.312 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:00:06.312 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:00:06.312 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:00:26.308 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:00:26.310 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:00:26.310 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:00:26.310 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:00:26.310 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:00:26.311 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:00:46.322 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:00:46.324 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:00:46.324 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:00:46.324 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:00:46.324 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:00:46.324 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:01:06.316 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:01:26.307 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:01:26.307 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:01:26.307 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:01:26.307 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:01:26.307 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:01:26.309 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:01:46.405 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:02:06.309 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:02:26.315 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:02:46.312 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:03:06.312 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:03:26.353 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:03:26.353 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:03:26.353 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:03:26.353 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:03:26.353 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:03:26.356 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:03:46.314 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:03:46.316 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:03:46.316 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:03:46.316 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:03:46.316 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:03:46.316 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:04:06.310 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:04:26.314 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:04:46.321 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:04:46.321 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:04:46.321 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:04:46.322 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:04:46.322 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:04:46.322 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:05:06.320 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:05:26.320 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:05:46.307 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:06:06.314 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:06:26.313 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:06:26.314 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:06:26.314 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:06:26.314 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:06:26.314 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:06:26.314 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:06:46.313 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:07:06.311 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:07:09.105 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-9]} session=null
2025-05-18 03:07:09.105 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: wjo5kjhi
2025-05-18 03:07:09.108 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-9 session=wjo5kjhi
2025-05-18 03:07:09.110 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-7]} session=null
2025-05-18 03:07:09.110 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jmr3gn5y
2025-05-18 03:07:09.110 [clientOutboundChannel-15] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-9]}
2025-05-18 03:07:09.116 [clientInboundChannel-53] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-7 session=jmr3gn5y
2025-05-18 03:07:09.116 [clientOutboundChannel-16] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-7]}
2025-05-18 03:07:09.120 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jmr3gn5y] closed with CloseStatus[code=1000, reason=null]
2025-05-18 03:07:09.120 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jmr3gn5y
2025-05-18 03:07:09.120 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: jmr3gn5y
2025-05-18 03:07:09.122 [clientInboundChannel-56] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=jmr3gn5y
2025-05-18 03:07:09.123 [clientOutboundChannel-17] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jmr3gn5y}], simpSessionId=jmr3gn5y}]
2025-05-18 03:07:09.126 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wjo5kjhi] closed with CloseStatus[code=1000, reason=null]
2025-05-18 03:07:09.126 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wjo5kjhi
2025-05-18 03:07:09.126 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: wjo5kjhi
2025-05-18 03:07:09.128 [clientInboundChannel-59] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=wjo5kjhi
2025-05-18 03:07:09.128 [clientOutboundChannel-18] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=wjo5kjhi}], simpSessionId=wjo5kjhi}]
2025-05-18 03:07:14.528 [MessageBroker-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [jmr3gn5y, wjo5kjhi]
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:07:26.318 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:07:46.306 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:07:46.308 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:07:46.308 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:07:46.308 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:07:46.308 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:07:46.308 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:08:06.318 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:08:06.319 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:08:06.319 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:08:06.319 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:08:06.319 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:08:06.319 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:08:15.229 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 03:08:15.229 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 03:08:15.411 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 03:08:15.411 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 03:08:15.461 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 03:08:15.461 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526895450
2025-05-18 03:08:15.470 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 03:08:15.470 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/388/x0j45jcr/websocket
2025-05-18 03:08:15.475 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=x0j45jcr]
2025-05-18 03:08:15.494 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 03:08:15.494 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии x0j45jcr
2025-05-18 03:08:15.574 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=x0j45jcr
2025-05-18 03:08:15.579 [clientOutboundChannel-19] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 03:08:15.594 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 03:08:15.597 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: x0j45jcr
2025-05-18 03:08:15.603 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 03:08:15.603 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 03:08:15.603 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: x0j45jcr
2025-05-18 03:08:15.633 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=x0j45jcr
2025-05-18 03:08:25.255 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 03:08:25.255 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 03:08:25.445 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 03:08:25.445 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 03:08:25.498 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 03:08:25.498 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747526905485
2025-05-18 03:08:25.508 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@e655f9
2025-05-18 03:08:25.508 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/442/f2h34sjx/websocket
2025-05-18 03:08:25.508 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=f2h34sjx]
2025-05-18 03:08:25.526 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 03:08:25.526 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии f2h34sjx
2025-05-18 03:08:25.537 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=f2h34sjx
2025-05-18 03:08:25.541 [clientOutboundChannel-20] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 03:08:25.551 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 03:08:25.551 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: f2h34sjx
2025-05-18 03:08:25.558 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 03:08:25.559 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 03:08:25.559 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: f2h34sjx
2025-05-18 03:08:25.560 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=f2h34sjx
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:08:26.319 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:08:27.834 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 03:08:27.834 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: f2h34sjx
2025-05-18 03:08:27.835 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 03:08:27.835 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=f2h34sjx
2025-05-18 03:08:27.835 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=f2h34sjx, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 03:08:27.835 [clientInboundChannel-61] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 03:08:27.835 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 03:08:27.835 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 03:08:27.835 [clientInboundChannel-61] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 03:08:27.835 [clientOutboundChannel-21] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[f2h34sjx-6]}
2025-05-18 03:08:30.636 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 03:08:30.636 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: x0j45jcr
2025-05-18 03:08:30.636 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 03:08:30.636 [clientInboundChannel-67] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=x0j45jcr
2025-05-18 03:08:30.636 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=x0j45jcr, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 03:08:30.636 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 03:08:30.636 [clientInboundChannel-67] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 03:08:30.636 [clientInboundChannel-67] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 03:08:30.636 [clientInboundChannel-67] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 03:08:30.636 [clientOutboundChannel-22] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[f2h34sjx-7]}
2025-05-18 03:08:30.643 [clientOutboundChannel-23] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[x0j45jcr-8]}
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:08:46.316 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 03:08:46.322 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@577a822b, com.example.chess.entity.Player@5e149465]]
2025-05-18 03:08:46.322 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@577a822b, com.example.chess.entity.Player@5e149465]]
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [63]
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id63
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [63]
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@201b3f5
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@3658bf33
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 03:08:46.323 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":63,"color":"white"}
2025-05-18 03:08:46.323 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 03:08:46.323 [clientOutboundChannel-24] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[f2h34sjx-9]}
2025-05-18 03:08:46.323 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":63,"color":"black"}
2025-05-18 03:08:46.323 [MessageBroker-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 03:08:46.323 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:08:46.356 [clientOutboundChannel-27] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[x0j45jcr-10]}
2025-05-18 03:08:46.356 [clientOutboundChannel-25] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[x0j45jcr-11]}
2025-05-18 03:08:46.356 [clientOutboundChannel-26] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[f2h34sjx-12]}
2025-05-18 03:08:46.391 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 03:08:46.393 [clientInboundChannel-74] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=x0j45jcr
2025-05-18 03:08:46.397 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 03:08:46.397 [clientInboundChannel-76] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=f2h34sjx
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 03:09:06.318 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 03:09:11.655 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-18 03:09:11.674 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-18 03:09:11.675 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 03:09:11.675 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session x0j45jcr with CloseStatus[code=1001, reason=null]
2025-05-18 03:09:11.675 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=x0j45jcr]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=x0j45jcr] closed with CloseStatus[code=1001, reason=null]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session x0j45jcr
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: x0j45jcr
2025-05-18 03:09:11.683 [clientInboundChannel-81] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=x0j45jcr
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session f2h34sjx with CloseStatus[code=1001, reason=null]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=f2h34sjx]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Failure while sending SockJS close frame
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=f2h34sjx] closed with CloseStatus[code=1001, reason=null]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session f2h34sjx
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: f2h34sjx
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@31ca510a]
2025-05-18 03:09:11.683 [clientInboundChannel-80] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=f2h34sjx
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 03:09:11.683 [SpringApplicationShutdownHook] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 03:09:11.686 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 03:09:11.686 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-18 03:09:11.707 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-18 12:51:02.004 [main] INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 18192 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-18 12:51:02.005 [main] INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-18 12:51:03.059 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-18 12:51:03.165 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 2 JPA repository interfaces.
2025-05-18 12:51:04.211 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-18 12:51:04.228 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-18 12:51:04.229 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-18 12:51:04.296 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-18 12:51:04.296 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2210 ms
2025-05-18 12:51:04.532 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-18 12:51:04.604 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-18 12:51:04.637 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-18 12:51:04.931 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-18 12:51:04.959 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-18 12:51:05.109 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@210c1b9d
2025-05-18 12:51:05.109 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-18 12:51:05.203 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-18 12:51:06.098 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-18 12:51:06.213 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-18 12:51:06.228 [main] INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@414d466e
2025-05-18 12:51:06.315 [main] INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-18 12:51:06.768 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-18 12:51:07.489 [main] INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-18 12:51:07.821 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-18 12:51:08.068 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.069 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.070 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.070 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.070 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.071 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.071 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.072 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.072 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-18 12:51:08.382 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@43201fd1]
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@43201fd1]
2025-05-18 12:51:08.382 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@43201fd1]]
2025-05-18 12:51:08.382 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 12:51:08.382 [main] DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-18 12:51:08.398 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-18 12:51:08.406 [main] INFO  com.example.chess.ChessApplication - Started ChessApplication in 6.988 seconds (process running for 7.743)
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:51:08.422 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:51:28.410 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:51:28.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:51:28.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:51:28.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:51:28.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:51:28.411 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:51:48.420 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:51:48.422 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:51:48.422 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:51:48.422 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:51:48.422 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:51:48.422 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:52:08.387 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 5, active threads = 1, queued tasks = 1, completed tasks = 3]
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:52:08.410 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:52:28.418 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:52:39.129 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-18 12:52:39.129 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-18 12:52:39.129 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-18 12:52:39.500 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 12:52:39.500 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 12:52:40.067 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 12:52:40.080 [http-nio-8080-exec-2] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 12:52:40.233 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 12:52:40.233 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747561960225
2025-05-18 12:52:40.252 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 12:52:40.252 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/302/ttwvrm03/websocket
2025-05-18 12:52:40.328 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ttwvrm03]
2025-05-18 12:52:40.367 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 12:52:40.368 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии ttwvrm03
2025-05-18 12:52:40.373 [clientInboundChannel-2] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=ttwvrm03
2025-05-18 12:52:40.379 [clientOutboundChannel-1] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 12:52:40.389 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 12:52:40.393 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ttwvrm03
2025-05-18 12:52:40.398 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 12:52:40.400 [clientInboundChannel-8] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=ttwvrm03
2025-05-18 12:52:40.400 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 12:52:40.400 [http-nio-8080-exec-7] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: ttwvrm03
2025-05-18 12:52:42.789 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 12:52:42.789 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 12:52:42.977 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 12:52:42.977 [http-nio-8080-exec-9] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 12:52:43.037 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 12:52:43.037 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747561963028
2025-05-18 12:52:43.043 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 12:52:43.043 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/489/3nntgoyt/websocket
2025-05-18 12:52:43.048 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3nntgoyt]
2025-05-18 12:52:43.056 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 12:52:43.056 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии 3nntgoyt
2025-05-18 12:52:43.059 [clientInboundChannel-14] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=3nntgoyt
2025-05-18 12:52:43.059 [clientOutboundChannel-2] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 12:52:43.072 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 12:52:43.072 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: 3nntgoyt
2025-05-18 12:52:43.081 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 12:52:43.081 [clientInboundChannel-20] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=3nntgoyt
2025-05-18 12:52:43.081 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 12:52:43.081 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: 3nntgoyt
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:52:48.418 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:52:55.136 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 12:52:55.137 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: 3nntgoyt
2025-05-18 12:52:55.137 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 12:52:55.137 [clientInboundChannel-1] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=3nntgoyt
2025-05-18 12:52:55.153 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=3nntgoyt, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 12:52:55.159 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 12:52:55.164 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 12:52:55.172 [clientInboundChannel-3] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 12:52:55.172 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 12:52:55.174 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 12:52:55.174 [clientInboundChannel-3] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 12:52:55.184 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 12:52:55.184 [clientInboundChannel-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 12:52:55.184 [clientOutboundChannel-3] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[3nntgoyt-0]}
2025-05-18 12:52:55.184 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 12:52:55.184 [clientInboundChannel-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 12:52:58.126 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 12:52:58.126 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: ttwvrm03
2025-05-18 12:52:58.126 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 12:52:58.126 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=ttwvrm03
2025-05-18 12:52:58.126 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=ttwvrm03, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 12:52:58.128 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 12:52:58.131 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 12:52:58.131 [clientInboundChannel-7] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 12:52:58.131 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 12:52:58.133 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 12:52:58.133 [clientInboundChannel-7] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 12:52:58.133 [clientInboundChannel-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 12:52:58.133 [clientInboundChannel-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 12:52:58.133 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 12:52:58.133 [clientInboundChannel-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 12:52:58.133 [clientOutboundChannel-4] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[3nntgoyt-1]}
2025-05-18 12:52:58.133 [clientOutboundChannel-5] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[ttwvrm03-2]}
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:53:08.412 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 12:53:08.462 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@5c67b65d, com.example.chess.entity.Player@1eae9092]]
2025-05-18 12:53:08.462 [MessageBroker-11] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 12:53:08.483 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@5c67b65d, com.example.chess.entity.Player@1eae9092]]
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [64]
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id64
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [64]
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@68125279
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@39c1dfbe
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 12:53:08.563 [MessageBroker-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":64,"color":"white"}
2025-05-18 12:53:08.563 [MessageBroker-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 12:53:08.563 [MessageBroker-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":64,"color":"black"}
2025-05-18 12:53:08.563 [MessageBroker-11] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 12:53:08.563 [clientOutboundChannel-6] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[3nntgoyt-3]}
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 12:53:08.563 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:53:08.571 [clientOutboundChannel-7] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[ttwvrm03-4]}
2025-05-18 12:53:08.587 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 12:53:08.587 [clientOutboundChannel-8] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[3nntgoyt-5]}
2025-05-18 12:53:08.594 [clientInboundChannel-15] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=ttwvrm03
2025-05-18 12:53:08.595 [clientOutboundChannel-9] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[ttwvrm03-6]}
2025-05-18 12:53:08.638 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 12:53:08.642 [clientInboundChannel-16] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=3nntgoyt
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:53:28.416 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:53:48.413 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:54:08.419 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:54:28.426 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:54:28.426 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:54:28.426 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:54:28.426 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:54:28.426 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:54:28.427 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:54:48.425 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:55:08.419 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:55:08.420 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:55:08.420 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:55:08.420 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:55:08.420 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:55:08.420 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:55:28.420 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:55:48.409 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:56:08.411 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:56:08.412 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:56:08.412 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:56:08.412 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:56:08.412 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:56:08.412 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:56:28.413 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:56:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:56:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:56:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:56:28.414 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:56:28.414 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:56:48.416 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:57:08.420 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:57:28.413 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:57:33.153 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/game/64/move]} session=null
2025-05-18 12:57:33.153 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/64/move, пользователь: null, сессия: 3nntgoyt
2025-05-18 12:57:33.155 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/game/64/init], content-length=[14]} session=null
2025-05-18 12:57:33.155 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/game/64/init session=3nntgoyt, lookupDestination='/game/64/init'
2025-05-18 12:57:33.156 [clientInboundChannel-28] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 12:57:33.179 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/game/64/move]} session=null
2025-05-18 12:57:33.179 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/64/move, пользователь: null, сессия: ttwvrm03
2025-05-18 12:57:33.181 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/game/64/init], content-length=[15]} session=null
2025-05-18 12:57:33.182 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/game/64/init session=ttwvrm03, lookupDestination='/game/64/init'
2025-05-18 12:57:33.182 [clientInboundChannel-34] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:57:48.421 [MessageBroker-11] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:58:08.409 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:58:28.412 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:58:35.560 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-4]} session=null
2025-05-18 12:58:35.560 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: 3nntgoyt
2025-05-18 12:58:35.562 [clientInboundChannel-38] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-4 session=3nntgoyt
2025-05-18 12:58:35.563 [clientOutboundChannel-10] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-4]}
2025-05-18 12:58:35.586 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3nntgoyt] closed with CloseStatus[code=1000, reason=null]
2025-05-18 12:58:35.586 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3nntgoyt
2025-05-18 12:58:35.586 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: 3nntgoyt
2025-05-18 12:58:35.587 [clientInboundChannel-41] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=3nntgoyt
2025-05-18 12:58:35.587 [clientOutboundChannel-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3nntgoyt}], simpSessionId=3nntgoyt}]
2025-05-18 12:58:38.595 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded DISCONNECT {receipt=[close-4]} session=null
2025-05-18 12:58:38.595 [http-nio-8080-exec-8] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: ttwvrm03
2025-05-18 12:58:38.595 [clientInboundChannel-44] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT receipt=close-4 session=ttwvrm03
2025-05-18 12:58:38.597 [clientOutboundChannel-12] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP RECEIPT, headers={receipt-id=[close-4]}
2025-05-18 12:58:38.599 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ttwvrm03] closed with CloseStatus[code=1000, reason=null]
2025-05-18 12:58:38.599 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ttwvrm03
2025-05-18 12:58:38.599 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: ttwvrm03
2025-05-18 12:58:38.607 [clientInboundChannel-47] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=ttwvrm03
2025-05-18 12:58:38.607 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ttwvrm03}], simpSessionId=ttwvrm03}]
2025-05-18 12:58:45.275 [MessageBroker-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [3nntgoyt, ttwvrm03]
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:58:48.411 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:59:08.411 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:59:28.418 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:59:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:59:28.418 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:59:28.419 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:59:28.419 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:59:28.419 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 12:59:48.416 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:00:08.425 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:00:28.417 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:00:48.422 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:01:08.418 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:01:28.413 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:01:28.414 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:01:28.414 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:01:28.414 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:01:28.414 [MessageBroker-5] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:01:28.414 [MessageBroker-5] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:01:48.409 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:02:08.423 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:02:08.428 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:02:08.428 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:02:08.428 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:02:08.428 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:02:08.428 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:02:28.422 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:02:48.410 [MessageBroker-7] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:03:08.416 [MessageBroker-3] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:03:28.418 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:03:48.409 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:03:48.409 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:03:48.410 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:03:48.410 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:03:48.410 [MessageBroker-10] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:03:48.410 [MessageBroker-10] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:04:08.421 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:04:28.415 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:04:48.411 [MessageBroker-2] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:05:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:05:28.409 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:05:48.412 [MessageBroker-12] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:05:55.435 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=vova3089927@gmail.com, password=Qp45gf29_3)]]
2025-05-18 13:05:55.436 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[vova3089927@gmail.com, Qp45gf29_3]]
2025-05-18 13:05:55.509 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova)]
2025-05-18 13:05:55.509 [http-nio-8080-exec-6] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=2, email=vova3089927@gmail.com, name=vova),[]>]
2025-05-18 13:05:55.550 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 13:05:55.551 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747562755546
2025-05-18 13:05:55.562 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 13:05:55.562 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/541/fvfvv0ks/websocket
2025-05-18 13:05:55.562 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=fvfvv0ks]
2025-05-18 13:05:55.576 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[2], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 13:05:55.576 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 2 для сессии fvfvv0ks
2025-05-18 13:05:55.577 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=fvfvv0ks
2025-05-18 13:05:55.577 [clientOutboundChannel-14] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 13:05:55.587 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 13:05:55.587 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: fvfvv0ks
2025-05-18 13:05:55.597 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 13:05:55.598 [clientInboundChannel-56] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=fvfvv0ks
2025-05-18 13:05:55.607 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/2/queue/matchmaking]} session=null
2025-05-18 13:05:55.608 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/2/queue/matchmaking, пользователь: null, сессия: fvfvv0ks
2025-05-18 13:05:59.824 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)]  with arguments [[PlayerRequest(name=null, email=Zhigul2006@gmail.com, password=Qp45gf29_3)]]
2025-05-18 13:05:59.824 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Starting method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)]  with arguments [[Zhigul2006@gmail.com, Qp45gf29_3]]
2025-05-18 13:05:59.922 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [PlayerResponse com.example.chess.service.implementation.PlayerServiceImpl.authenticatePlayer(String,String)] successfully executed with result [PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto)]
2025-05-18 13:05:59.922 [http-nio-8080-exec-8] INFO  com.example.chess.aspect.LogAspect - Method [ResponseEntity com.example.chess.controller.PlayerController.authenticatePlayer(PlayerRequest)] successfully executed with result [<200 OK OK,PlayerResponse(id=27, email=Zhigul2006@gmail.com, name=Cocofanto elefanto),[]>]
2025-05-18 13:05:59.980 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 13:05:59.981 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/info?t=1747562759974
2025-05-18 13:05:59.990 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@49f9575d
2025-05-18 13:05:59.991 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws-chess/152/kjeevyxc/websocket
2025-05-18 13:05:59.991 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kjeevyxc]
2025-05-18 13:06:00.002 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded CONNECT {user=[27], accept-version=[1.2,1.1,1.0], heart-beat=[5000,5000]} session=null
2025-05-18 13:06:00.002 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Аутентификация WebSocket: установлен пользователь 27 для сессии kjeevyxc
2025-05-18 13:06:00.010 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing CONNECT session=kjeevyxc
2025-05-18 13:06:00.034 [clientOutboundChannel-15] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP CONNECTED, headers={version=[1.2], heart-beat=[0,0]}
2025-05-18 13:06:00.049 [http-nio-8080-exec-9] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-0], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 13:06:00.049 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kjeevyxc
2025-05-18 13:06:00.056 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-0]} session=null
2025-05-18 13:06:00.058 [http-nio-8080-exec-5] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-1], destination=[/user/27/queue/matchmaking]} session=null
2025-05-18 13:06:00.058 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /user/27/queue/matchmaking, пользователь: null, сессия: kjeevyxc
2025-05-18 13:06:00.063 [clientInboundChannel-68] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-0 session=kjeevyxc
2025-05-18 13:06:01.559 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 13:06:01.559 [http-nio-8080-exec-10] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: kjeevyxc
2025-05-18 13:06:01.560 [clientInboundChannel-49] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=kjeevyxc
2025-05-18 13:06:01.560 [http-nio-8080-exec-10] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/27/game/add-in-game-pool], content-length=[15]} session=null
2025-05-18 13:06:01.560 [clientInboundChannel-52] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/27/game/add-in-game-pool session=kjeevyxc, lookupDestination='/27/game/add-in-game-pool'
2025-05-18 13:06:01.560 [clientInboundChannel-52] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 13:06:01.560 [clientInboundChannel-52] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[27]]
2025-05-18 13:06:01.560 [clientInboundChannel-52] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 13:06:01.561 [clientInboundChannel-52] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[27]]
2025-05-18 13:06:01.561 [clientInboundChannel-52] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=27
2025-05-18 13:06:01.561 [clientInboundChannel-52] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 1 sessions.
2025-05-18 13:06:01.561 [clientInboundChannel-52] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 13:06:01.561 [clientInboundChannel-52] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 13:06:01.561 [clientInboundChannel-52] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 13:06:01.561 [clientInboundChannel-52] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 13:06:01.561 [clientOutboundChannel-16] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[kjeevyxc-7]}
2025-05-18 13:06:03.773 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-2], destination=[/queue/matchmaking]} session=null
2025-05-18 13:06:03.773 [http-nio-8080-exec-1] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /queue/matchmaking, пользователь: null, сессия: fvfvv0ks
2025-05-18 13:06:03.775 [clientInboundChannel-56] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing SUBSCRIBE /queue/matchmaking id=sub-2 session=fvfvv0ks
2025-05-18 13:06:03.775 [http-nio-8080-exec-1] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SEND {destination=[/app/2/game/add-in-game-pool], content-length=[14]} session=null
2025-05-18 13:06:03.775 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/2/game/add-in-game-pool session=fvfvv0ks, lookupDestination='/2/game/add-in-game-pool'
2025-05-18 13:06:03.775 [clientInboundChannel-58] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking MatchMakingController#AddInGamePool[1 args]
2025-05-18 13:06:03.775 [clientInboundChannel-58] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)]  with arguments [[2]]
2025-05-18 13:06:03.775 [clientInboundChannel-58] INFO  c.e.c.c.MatchMakingController - Начало добавления пользователя в пул пользователей.
2025-05-18 13:06:03.775 [clientInboundChannel-58] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)]  with arguments [[2]]
2025-05-18 13:06:03.775 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload=2
2025-05-18 13:06:03.775 [clientInboundChannel-58] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 13:06:03.776 [clientInboundChannel-58] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавление пользователя в очередь игроков ММ
2025-05-18 13:06:03.776 [clientInboundChannel-58] INFO  c.e.c.s.i.MatchMakingServiceImpl - Добавлен игрок в очередь.
2025-05-18 13:06:03.776 [clientInboundChannel-58] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.addPlayerToQueue(Long)] successfully executed with result [empty result]
2025-05-18 13:06:03.776 [clientOutboundChannel-17] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[kjeevyxc-8]}
2025-05-18 13:06:03.776 [clientInboundChannel-58] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.controller.MatchMakingController.AddInGamePool(long)] successfully executed with result [empty result]
2025-05-18 13:06:03.777 [clientOutboundChannel-18] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[fvfvv0ks-9]}
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[2, 27]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[2, 27]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Взяли двух игроков для создания матча.
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@798993b3, com.example.chess.entity.Player@acf7a70]]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.GameManagerServiceImpl - Начинаем создавать игру
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Starting method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)]  with arguments [[com.example.chess.entity.Player@798993b3, com.example.chess.entity.Player@acf7a70]]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [long com.example.chess.service.implementation.GameServiceImpl.initGame(Player,Player)] successfully executed with result [65]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.GameManagerServiceImpl - Создали игру с id65
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [Long com.example.chess.service.implementation.GameManagerServiceImpl.createGame(Player,Player)] successfully executed with result [65]
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Проверка SimpUserRegistry перед отправкой...
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 2: не найден
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Пользователь 27: не найден
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 2 на /user/2/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@1abb1210
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 2
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Отправка уведомления игроку 27 на /user/27/queue/matchmaking: com.example.chess.dto.response.MatchFoundResponse@5abd9d92
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Уведомление успешно отправлено игроку 27
2025-05-18 13:06:08.421 [MessageBroker-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":65,"color":"white"}
2025-05-18 13:06:08.421 [MessageBroker-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 13:06:08.421 [MessageBroker-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing MESSAGE destination=/queue/matchmaking session=null payload={"gameId":65,"color":"black"}
2025-05-18 13:06:08.421 [MessageBroker-6] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Broadcasting to 2 sessions.
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  c.e.c.s.i.MatchMakingServiceImpl - Создание матча.
2025-05-18 13:06:08.421 [MessageBroker-6] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:06:08.421 [clientOutboundChannel-19] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[kjeevyxc-10]}
2025-05-18 13:06:08.421 [clientOutboundChannel-21] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[kjeevyxc-11]}
2025-05-18 13:06:08.421 [clientOutboundChannel-20] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[fvfvv0ks-12]}
2025-05-18 13:06:08.421 [clientOutboundChannel-22] TRACE o.s.m.simp.stomp.StompEncoder - Encoding STOMP MESSAGE, headers={destination=[/queue/matchmaking], content-type=[application/json], subscription=[sub-2], message-id=[fvfvv0ks-13]}
2025-05-18 13:06:08.445 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 13:06:08.445 [clientInboundChannel-61] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=fvfvv0ks
2025-05-18 13:06:08.446 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/game/65/move]} session=null
2025-05-18 13:06:08.446 [http-nio-8080-exec-2] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/65/move, пользователь: null, сессия: fvfvv0ks
2025-05-18 13:06:08.446 [http-nio-8080-exec-2] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 13:06:08.446 [clientInboundChannel-69] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=fvfvv0ks
2025-05-18 13:06:08.447 [http-nio-8080-exec-4] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/game/65/move]} session=null
2025-05-18 13:06:08.447 [http-nio-8080-exec-4] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/65/move, пользователь: null, сессия: fvfvv0ks
2025-05-18 13:06:08.453 [http-nio-8080-exec-8] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-1]} session=null
2025-05-18 13:06:08.455 [http-nio-8080-exec-3] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-3], destination=[/game/65/move]} session=null
2025-05-18 13:06:08.455 [clientInboundChannel-50] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-1 session=kjeevyxc
2025-05-18 13:06:08.455 [http-nio-8080-exec-3] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/65/move, пользователь: null, сессия: kjeevyxc
2025-05-18 13:06:08.456 [http-nio-8080-exec-7] TRACE o.s.m.simp.stomp.StompDecoder - Decoded UNSUBSCRIBE {id=[sub-3]} session=null
2025-05-18 13:06:08.457 [clientInboundChannel-57] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing UNSUBSCRIBE id=sub-3 session=kjeevyxc
2025-05-18 13:06:08.457 [http-nio-8080-exec-6] TRACE o.s.m.simp.stomp.StompDecoder - Decoded SUBSCRIBE {id=[sub-4], destination=[/game/65/move]} session=null
2025-05-18 13:06:08.457 [http-nio-8080-exec-6] INFO  c.e.c.c.CustomChannelInterceptor - Подписка на маршрут: /game/65/move, пользователь: null, сессия: kjeevyxc
2025-05-18 13:06:28.418 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:06:28.418 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:06:28.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:06:28.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:06:28.419 [MessageBroker-9] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:06:28.419 [MessageBroker-9] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:06:48.306 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=kjeevyxc]
2025-05-18 13:06:48.306 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=fvfvv0ks]
2025-05-18 13:06:48.306 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kjeevyxc] closed with CloseStatus[code=1006, reason=null]
2025-05-18 13:06:48.306 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kjeevyxc
2025-05-18 13:06:48.306 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=fvfvv0ks] closed with CloseStatus[code=1006, reason=null]
2025-05-18 13:06:48.306 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session fvfvv0ks
2025-05-18 13:06:48.306 [http-nio-8080-exec-9] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: kjeevyxc
2025-05-18 13:06:48.306 [http-nio-8080-exec-5] INFO  c.e.c.c.CustomChannelInterceptor - Отключение сессии: fvfvv0ks
2025-05-18 13:06:48.310 [clientInboundChannel-63] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=kjeevyxc
2025-05-18 13:06:48.310 [clientInboundChannel-62] DEBUG o.s.m.s.b.SimpleBrokerMessageHandler - Processing DISCONNECT session=fvfvv0ks
2025-05-18 13:06:48.335 [clientOutboundChannel-24] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=fvfvv0ks}], simpSessionId=fvfvv0ks}]
2025-05-18 13:06:48.338 [clientOutboundChannel-23] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=kjeevyxc}], simpSessionId=kjeevyxc}]
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:06:48.418 [MessageBroker-8] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [fvfvv0ks, kjeevyxc]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:21.228 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:21.238 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:21.238 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:21.238 [MessageBroker-4] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:21.238 [MessageBroker-4] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами[]
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи[]
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-18 13:11:28.411 [MessageBroker-1] INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-20 02:33:41.270 INFO  com.example.chess.aspect.LogAspect - Starting method [String com.example.chess.service.implementation.LogTaskServiceImpl.generateLogFile(String)]  with arguments [[2025-05-18]]
2025-05-20 02:33:41.278 INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.LogFileServiceImpl.creatLogFileByDate(String,LogTask)]  with arguments [[2025-05-18, com.example.chess.entity.LogTask@354da357]]
2025-05-20 02:33:56.283 ERROR com.example.chess.aspect.LogAspect - Throwing exception in method [LogFileServiceImpl.creatLogFileByDate(..)] with arguments [[2025-05-18, com.example.chess.entity.LogTask@354da357]] exception message [Исходный лог-файл не найден]
2025-05-20 02:35:38.777 INFO  com.example.chess.aspect.LogAspect - Starting method [String com.example.chess.service.implementation.LogTaskServiceImpl.generateLogFile(String)]  with arguments [[2025-05-18]]
2025-05-20 02:35:38.779 INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.LogFileServiceImpl.creatLogFileByDate(String,LogTask)]  with arguments [[2025-05-18, com.example.chess.entity.LogTask@72fb5ea1]]
