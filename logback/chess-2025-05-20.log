2025-05-20 13:37:33.770 INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 1920 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-20 13:37:33.770 INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 13:37:34.536 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 13:37:34.583 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2025-05-20 13:37:35.265 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-20 13:37:35.265 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 13:37:35.265 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-20 13:37:35.328 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 13:37:35.328 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1476 ms
2025-05-20 13:37:35.548 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 13:37:35.580 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-20 13:37:35.595 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-20 13:37:35.790 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 13:37:35.815 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 13:37:35.958 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bb50de6
2025-05-20 13:37:35.958 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 13:37:36.006 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-20 13:37:36.690 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 13:37:36.817 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 13:37:36.833 INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@eb09112
2025-05-20 13:37:36.966 INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-20 13:37:37.337 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-20 13:37:38.207 INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-20 13:37:38.510 DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:38.740 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-20 13:37:39.049 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]
2025-05-20 13:37:39.049 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]]
2025-05-20 13:37:39.049 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:37:39.049 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:37:39.064 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-20 13:37:39.064 INFO  com.example.chess.ChessApplication - Started ChessApplication in 5.888 seconds (process running for 6.421)
2025-05-20 13:37:39.080 INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-20 13:37:39.080 INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-20 13:37:39.080 INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами []
2025-05-20 13:37:39.080 INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи []
2025-05-20 13:37:39.080 INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-20 13:37:39.080 INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-20 13:37:49.074 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-05-20 13:37:49.082 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-20 13:37:49.082 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-05-20 13:37:49.082 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]]
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b647344]
2025-05-20 13:37:49.082 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:37:49.082 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:37:49.082 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 13:37:49.082 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-05-20 13:37:49.092 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-05-20 13:44:04.276 INFO  com.example.chess.ChessApplication - Starting ChessApplication using Java 23.0.1 with PID 13988 (D:\Java jetbrains\java spring projects\Chess\target\classes started by vova3 in D:\Java jetbrains\java spring projects\chess)
2025-05-20 13:44:04.280 INFO  com.example.chess.ChessApplication - No active profile set, falling back to 1 default profile: "default"
2025-05-20 13:44:04.892 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-20 13:44:04.942 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2025-05-20 13:44:05.505 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-05-20 13:44:05.521 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-05-20 13:44:05.521 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-05-20 13:44:05.562 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-05-20 13:44:05.562 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1248 ms
2025-05-20 13:44:05.684 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-20 13:44:05.736 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.5.Final
2025-05-20 13:44:05.761 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-05-20 13:44:05.940 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-20 13:44:05.973 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-05-20 13:44:06.203 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2cadcff6
2025-05-20 13:44:06.203 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-05-20 13:44:06.253 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
2025-05-20 13:44:06.943 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-20 13:44:07.025 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-20 13:44:07.041 INFO  c.e.chess.config.WebSocketConfig - CustomChannelInterceptor инициализирован: com.example.chess.config.CustomChannelInterceptor@5d8112e6
2025-05-20 13:44:07.115 INFO  c.e.chess.config.WebSocketConfig - Регистрация CustomChannelInterceptor для входящего канала
2025-05-20 13:44:07.455 INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-20 13:44:08.065 INFO  com.example.chess.utils.Cache - Cache created with capacity: 100
2025-05-20 13:44:08.323 DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws-chess/**] in 'stompWebSocketHandlerMapping'
2025-05-20 13:44:08.538 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.546 DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-05-20 13:44:08.811 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1332d4ae]
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1332d4ae]
2025-05-20 13:44:08.811 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1332d4ae]]
2025-05-20 13:44:08.811 INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:44:08.811 DEBUG o.s.m.s.ExecutorSubscribableChannel - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-05-20 13:44:08.827 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-05-20 13:44:08.840 INFO  com.example.chess.ChessApplication - Started ChessApplication in 4.898 seconds (process running for 5.396)
2025-05-20 13:44:08.843 INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()]  with arguments [method without arguments]
2025-05-20 13:44:08.843 INFO  c.e.c.s.i.MatchMakingServiceImpl - Matchmaking started
2025-05-20 13:44:08.843 INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков с ключами []
2025-05-20 13:44:08.843 INFO  c.e.c.s.i.MatchMakingServiceImpl - Удаление инактивных игроков завершено. Оставшиеся ключи []
2025-05-20 13:44:08.843 INFO  c.e.c.s.i.MatchMakingServiceImpl - Чистка пользователей прошла успешно
2025-05-20 13:44:08.843 INFO  com.example.chess.aspect.LogAspect - Method [void com.example.chess.service.implementation.MatchMakingServiceImpl.processMatchmaking()] successfully executed with result [empty result]
2025-05-20 13:44:11.551 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-20 13:44:11.551 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-05-20 13:44:11.551 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-05-20 13:44:11.605 INFO  com.example.chess.aspect.LogAspect - Starting method [String com.example.chess.service.implementation.LogTaskServiceImpl.generateLogFile(String)]  with arguments [[2025-05-20]]
2025-05-20 13:44:11.605 INFO  com.example.chess.aspect.LogAspect - Method [String com.example.chess.service.implementation.LogTaskServiceImpl.generateLogFile(String)] successfully executed with result [20189463-9e81-4f17-8786-5c276ec81947]
2025-05-20 13:44:11.605 INFO  com.example.chess.aspect.LogAspect - Starting method [void com.example.chess.service.implementation.LogFileServiceImpl.creatLogFileByDate(String,LogTask)]  with arguments [[2025-05-20, com.example.chess.entity.LogTask@623945af]]
2025-05-20 13:44:20.731 INFO  com.example.chess.aspect.LogAspect - Starting method [List com.example.chess.service.implementation.LogTaskServiceImpl.getLogs(String)]  with arguments [[20189463-9e81-4f17-8786-5c276ec81947]]
2025-05-20 13:44:20.732 ERROR com.example.chess.aspect.LogAspect - Throwing exception in method [List com.example.chess.service.implementation.LogTaskServiceImpl.getLogs(String)] with arguments [[20189463-9e81-4f17-8786-5c276ec81947]] exception message [Файл не найден]
